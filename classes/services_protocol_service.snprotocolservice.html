<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>SNProtocolService | SNJS Documentation - v2.0.41</title>
	<meta name="description" content="Documentation for SNJS Documentation - v2.0.41">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="../assets/css/main.css">
	<script async src="../assets/js/search.js" id="search-script"></script>
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="../assets/js/search.json" data-base="..">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="../index.html" class="title">SNJS Documentation - v2.0.41</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="../modules.html">SNJS Documentation - v2.0.41</a>
				</li>
				<li>
					<a href="../modules/services_protocol_service.html">services/protocol_service</a>
				</li>
				<li>
					<a href="services_protocol_service.snprotocolservice.html">SNProtocolService</a>
				</li>
			</ul>
			<h1>Class SNProtocolService</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<section class="tsd-panel tsd-comment">
				<div class="tsd-comment tsd-typography">
					<div class="lead">
						<p>The protocol service is responsible for the encryption and decryption of payloads, and
							handles delegation of a task to the respective protocol operator. Each version of the protocol
							(001, 002, 003, 004, etc) uses a respective operator version to perform encryption operations.
							Operators are located in /protocol/operator.
							The protocol service depends on the keyManager for determining which key to use for the
							encryption and decryption of a particular payload.
							The protocol service is also responsible for dictating which protocol versions are valid,
						and which are no longer valid or not supported.</p>
					</div>
					<p>The key manager is responsible for managing root key and root key wrapper states.
						When the key manager is initialized, it initiates itself with a keyMode, which
					dictates the entire flow of key management. The key manager&#39;s responsibilities include:</p>
					<ul>
						<li>interacting with the device keychain to save or clear the root key</li>
						<li>interacting with storage to save root key params or wrapper params, or the wrapped root key.</li>
						<li>exposing methods that allow the application to unwrap the root key (unlock the application)</li>
					</ul>
					<p>It also exposes two primary methods for determining what key should be used to encrypt
						or decrypt a particular payload. Some payloads are encrypted directly with the rootKey
					(such as itemsKeys and encryptedStorage). Others are encrypted with itemsKeys (notes, tags, etc).</p>
					<p>The items key manager manages the lifecycle of items keys.
						It is responsible for creating the default items key when conditions call for it
						(such as after the first sync completes and no key exists).
						It also exposes public methods that allows consumers to retrieve an items key
					for a particular payload, and also retrieve all available items keys.</p>
				</div>
			</section>
			<section class="tsd-panel tsd-hierarchy">
				<h3>Hierarchy</h3>
				<ul class="tsd-hierarchy">
					<li>
						<a href="services_pure_service.pureservice.html" class="tsd-signature-type" data-tsd-kind="Class">PureService</a>
						<ul class="tsd-hierarchy">
							<li>
								<span class="target">SNProtocolService</span>
							</li>
						</ul>
					</li>
				</ul>
			</section>
			<section class="tsd-panel">
				<h3>Implements</h3>
				<ul class="tsd-hierarchy">
					<li><a href="../interfaces/services_encryption_delegate.encryptiondelegate.html" class="tsd-signature-type" data-tsd-kind="Interface">EncryptionDelegate</a></li>
				</ul>
			</section>
			<section class="tsd-panel-group tsd-index-group">
				<h2>Index</h2>
				<section class="tsd-panel tsd-index-panel">
					<div class="tsd-index-content">
						<section class="tsd-index-section ">
							<h3>Constructors</h3>
							<ul class="tsd-index-list">
								<li class="tsd-kind-constructor tsd-parent-kind-class tsd-is-inherited"><a href="services_protocol_service.snprotocolservice.html#constructor" class="tsd-kind-icon">constructor</a></li>
							</ul>
						</section>
						<section class="tsd-index-section ">
							<h3>Properties</h3>
							<ul class="tsd-index-list">
								<li class="tsd-kind-property tsd-parent-kind-class"><a href="services_protocol_service.snprotocolservice.html#crypto" class="tsd-kind-icon">crypto</a></li>
								<li class="tsd-kind-property tsd-parent-kind-class tsd-is-inherited"><a href="services_protocol_service.snprotocolservice.html#deviceinterface" class="tsd-kind-icon">device<wbr>Interface</a></li>
								<li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><a href="services_protocol_service.snprotocolservice.html#keymode" class="tsd-kind-icon">key<wbr>Mode</a></li>
								<li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><a href="services_protocol_service.snprotocolservice.html#keyobservers" class="tsd-kind-icon">key<wbr>Observers</a></li>
								<li class="tsd-kind-property tsd-parent-kind-class tsd-is-inherited"><a href="services_protocol_service.snprotocolservice.html#loggingenabled" class="tsd-kind-icon">logging<wbr>Enabled</a></li>
								<li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><a href="services_protocol_service.snprotocolservice.html#operators" class="tsd-kind-icon">operators</a></li>
								<li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><a href="services_protocol_service.snprotocolservice.html#removeitemsobserver" class="tsd-kind-icon">remove<wbr>Items<wbr>Observer</a></li>
								<li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><a href="services_protocol_service.snprotocolservice.html#rootkey" class="tsd-kind-icon">root<wbr>Key</a></li>
							</ul>
						</section>
						<section class="tsd-index-section ">
							<h3>Methods</h3>
							<ul class="tsd-index-list">
								<li class="tsd-kind-method tsd-parent-kind-class"><a href="services_protocol_service.snprotocolservice.html#accountupgradeavailable" class="tsd-kind-icon">account<wbr>Upgrade<wbr>Available</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a href="services_protocol_service.snprotocolservice.html#addeventobserver" class="tsd-kind-icon">add<wbr>Event<wbr>Observer</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a href="services_protocol_service.snprotocolservice.html#blockdeinit" class="tsd-kind-icon">block<wbr>Deinit</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class"><a href="services_protocol_service.snprotocolservice.html#clearlocalkeystate" class="tsd-kind-icon">clear<wbr>Local<wbr>Key<wbr>State</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class"><a href="services_protocol_service.snprotocolservice.html#computerootkey" class="tsd-kind-icon">compute<wbr>Root<wbr>Key</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class"><a href="services_protocol_service.snprotocolservice.html#computewrappingkey" class="tsd-kind-icon">compute<wbr>Wrapping<wbr>Key</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class"><a href="services_protocol_service.snprotocolservice.html#costminimumforversion" class="tsd-kind-icon">cost<wbr>Minimum<wbr>For<wbr>Version</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class"><a href="services_protocol_service.snprotocolservice.html#createbackupfile" class="tsd-kind-icon">create<wbr>Backup<wbr>File</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class"><a href="services_protocol_service.snprotocolservice.html#createkeyparams" class="tsd-kind-icon">create<wbr>Key<wbr>Params</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class"><a href="services_protocol_service.snprotocolservice.html#createnewdefaultitemskey" class="tsd-kind-icon">create<wbr>New<wbr>Default<wbr>Items<wbr>Key</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class"><a href="services_protocol_service.snprotocolservice.html#createnewitemskeywithrollback" class="tsd-kind-icon">create<wbr>New<wbr>Items<wbr>Key<wbr>With<wbr>Rollback</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><a href="services_protocol_service.snprotocolservice.html#createoperatorforlatestversion" class="tsd-kind-icon">create<wbr>Operator<wbr>For<wbr>Latest<wbr>Version</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><a href="services_protocol_service.snprotocolservice.html#createoperatorforversion" class="tsd-kind-icon">create<wbr>Operator<wbr>For<wbr>Version</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class"><a href="services_protocol_service.snprotocolservice.html#createrootkey" class="tsd-kind-icon">create<wbr>Root<wbr>Key</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class"><a href="services_protocol_service.snprotocolservice.html#decrypterroreditems" class="tsd-kind-icon">decrypt<wbr>Errored<wbr>Items</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class"><a href="services_protocol_service.snprotocolservice.html#defaultitemskeyforitemversion" class="tsd-kind-icon">default<wbr>Items<wbr>Key<wbr>For<wbr>Item<wbr>Version</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><a href="services_protocol_service.snprotocolservice.html#defaultoperator" class="tsd-kind-icon">default<wbr>Operator</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><a href="services_protocol_service.snprotocolservice.html#deinit" class="tsd-kind-icon">deinit</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter tsd-is-inherited tsd-is-protected"><a href="services_protocol_service.snprotocolservice.html#executecriticalfunction" class="tsd-kind-icon">execute<wbr>Critical<wbr>Function</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class"><a href="services_protocol_service.snprotocolservice.html#getaccountkeyparams" class="tsd-kind-icon">get<wbr>Account<wbr>Key<wbr>Params</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class"><a href="services_protocol_service.snprotocolservice.html#getdefaultitemskey" class="tsd-kind-icon">get<wbr>Default<wbr>Items<wbr>Key</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class"><a href="services_protocol_service.snprotocolservice.html#getencryptiondisplayname" class="tsd-kind-icon">get<wbr>Encryption<wbr>Display<wbr>Name</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><a href="services_protocol_service.snprotocolservice.html#getencryptionsourceversion" class="tsd-kind-icon">get<wbr>Encryption<wbr>Source<wbr>Version</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class"><a href="services_protocol_service.snprotocolservice.html#getkeyembeddedkeyparams" class="tsd-kind-icon">get<wbr>Key<wbr>Embedded<wbr>Key<wbr>Params</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class"><a href="services_protocol_service.snprotocolservice.html#getlatestversion" class="tsd-kind-icon">get<wbr>Latest<wbr>Version</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class"><a href="services_protocol_service.snprotocolservice.html#getrootkey" class="tsd-kind-icon">get<wbr>Root<wbr>Key</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><a href="services_protocol_service.snprotocolservice.html#getrootkeyfromkeychain" class="tsd-kind-icon">get<wbr>Root<wbr>Key<wbr>From<wbr>Keychain</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class"><a href="services_protocol_service.snprotocolservice.html#getrootkeyparams" class="tsd-kind-icon">get<wbr>Root<wbr>Key<wbr>Params</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class"><a href="services_protocol_service.snprotocolservice.html#getrootkeywrapperkeyparams" class="tsd-kind-icon">get<wbr>Root<wbr>Key<wbr>Wrapper<wbr>Key<wbr>Params</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class"><a href="services_protocol_service.snprotocolservice.html#getuserversion" class="tsd-kind-icon">get<wbr>User<wbr>Version</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><a href="services_protocol_service.snprotocolservice.html#getwrappedrootkey" class="tsd-kind-icon">get<wbr>Wrapped<wbr>Root<wbr>Key</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a href="services_protocol_service.snprotocolservice.html#handleapplicationstage" class="tsd-kind-icon">handle<wbr>Application<wbr>Stage</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><a href="services_protocol_service.snprotocolservice.html#handledownloadfirstsynccompletion" class="tsd-kind-icon">handle<wbr>Download<wbr>First<wbr>Sync<wbr>Completion</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><a href="services_protocol_service.snprotocolservice.html#handlefullsynccompletion" class="tsd-kind-icon">handle<wbr>Full<wbr>Sync<wbr>Completion</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class"><a href="services_protocol_service.snprotocolservice.html#hasaccount" class="tsd-kind-icon">has<wbr>Account</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class"><a href="services_protocol_service.snprotocolservice.html#haspasscode" class="tsd-kind-icon">has<wbr>Passcode</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class"><a href="services_protocol_service.snprotocolservice.html#hasrootkeywrapper" class="tsd-kind-icon">has<wbr>Root<wbr>Key<wbr>Wrapper</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class"><a href="services_protocol_service.snprotocolservice.html#initialize" class="tsd-kind-icon">initialize</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class"><a href="services_protocol_service.snprotocolservice.html#isprotocolversionoutdated" class="tsd-kind-icon">is<wbr>Protocol<wbr>Version<wbr>Outdated</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class"><a href="services_protocol_service.snprotocolservice.html#isversionnewerthanlibraryversion" class="tsd-kind-icon">is<wbr>Version<wbr>Newer<wbr>Than<wbr>Library<wbr>Version</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class"><a href="services_protocol_service.snprotocolservice.html#itemskeyforpayload" class="tsd-kind-icon">items<wbr>Key<wbr>For<wbr>Payload</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><a href="services_protocol_service.snprotocolservice.html#keytousefordecryptionofpayload" class="tsd-kind-icon">key<wbr>ToUse<wbr>For<wbr>Decryption<wbr>OfPayload</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><a href="services_protocol_service.snprotocolservice.html#keytouseforencryptionofpayload" class="tsd-kind-icon">key<wbr>ToUse<wbr>For<wbr>Encryption<wbr>OfPayload</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><a href="services_protocol_service.snprotocolservice.html#latestitemskeys" class="tsd-kind-icon">latest<wbr>Items<wbr>Keys</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a href="services_protocol_service.snprotocolservice.html#log" class="tsd-kind-icon">log</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class"><a href="services_protocol_service.snprotocolservice.html#needsnewrootkeybaseditemskey" class="tsd-kind-icon">needs<wbr>New<wbr>Root<wbr>Key<wbr>Based<wbr>Items<wbr>Key</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited tsd-is-protected"><a href="services_protocol_service.snprotocolservice.html#notifyevent" class="tsd-kind-icon">notify<wbr>Event</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><a href="services_protocol_service.snprotocolservice.html#notifyobserversofkeychange" class="tsd-kind-icon">notify<wbr>Observers<wbr>OfKey<wbr>Change</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class"><a href="services_protocol_service.snprotocolservice.html#onkeystatuschange" class="tsd-kind-icon">on<wbr>Key<wbr>Status<wbr>Change</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class"><a href="services_protocol_service.snprotocolservice.html#onsyncevent" class="tsd-kind-icon">on<wbr>Sync<wbr>Event</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><a href="services_protocol_service.snprotocolservice.html#operatorforversion" class="tsd-kind-icon">operator<wbr>For<wbr>Version</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class"><a href="services_protocol_service.snprotocolservice.html#passcodeupgradeavailable" class="tsd-kind-icon">passcode<wbr>Upgrade<wbr>Available</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class"><a href="services_protocol_service.snprotocolservice.html#payloadbydecryptingpayload" class="tsd-kind-icon">payload<wbr>ByDecrypting<wbr>Payload</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class"><a href="services_protocol_service.snprotocolservice.html#payloadbyencryptingpayload" class="tsd-kind-icon">payload<wbr>ByEncrypting<wbr>Payload</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><a href="services_protocol_service.snprotocolservice.html#payloadcontentformatforintent" class="tsd-kind-icon">payload<wbr>Content<wbr>Format<wbr>For<wbr>Intent</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class"><a href="services_protocol_service.snprotocolservice.html#payloadsbydecryptingbackupfile" class="tsd-kind-icon">payloads<wbr>ByDecrypting<wbr>Backup<wbr>File</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class"><a href="services_protocol_service.snprotocolservice.html#payloadsbydecryptingpayloads" class="tsd-kind-icon">payloads<wbr>ByDecrypting<wbr>Payloads</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class"><a href="services_protocol_service.snprotocolservice.html#payloadsbyencryptingpayloads" class="tsd-kind-icon">payloads<wbr>ByEncrypting<wbr>Payloads</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class"><a href="services_protocol_service.snprotocolservice.html#platformsupportskeyderivation" class="tsd-kind-icon">platform<wbr>Supports<wbr>Key<wbr>Derivation</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class"><a href="services_protocol_service.snprotocolservice.html#reencryptitemskeys" class="tsd-kind-icon">reencrypt<wbr>Items<wbr>Keys</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class"><a href="services_protocol_service.snprotocolservice.html#removerootkeywrapper" class="tsd-kind-icon">remove<wbr>Root<wbr>Key<wbr>Wrapper</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class"><a href="services_protocol_service.snprotocolservice.html#repersistallitems" class="tsd-kind-icon">repersist<wbr>All<wbr>Items</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class"><a href="services_protocol_service.snprotocolservice.html#rootkeyneedsunwrapping" class="tsd-kind-icon">root<wbr>Key<wbr>Needs<wbr>Unwrapping</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><a href="services_protocol_service.snprotocolservice.html#saverootkeytokeychain" class="tsd-kind-icon">save<wbr>Root<wbr>Key<wbr>ToKeychain</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class"><a href="services_protocol_service.snprotocolservice.html#setnewrootkeywrapper" class="tsd-kind-icon">set<wbr>New<wbr>Root<wbr>Key<wbr>Wrapper</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class"><a href="services_protocol_service.snprotocolservice.html#setrootkey" class="tsd-kind-icon">set<wbr>Root<wbr>Key</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class"><a href="services_protocol_service.snprotocolservice.html#supportedversions" class="tsd-kind-icon">supported<wbr>Versions</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class"><a href="services_protocol_service.snprotocolservice.html#unwraprootkey" class="tsd-kind-icon">unwrap<wbr>Root<wbr>Key</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class"><a href="services_protocol_service.snprotocolservice.html#upgradeavailable" class="tsd-kind-icon">upgrade<wbr>Available</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class"><a href="services_protocol_service.snprotocolservice.html#validateaccountpassword" class="tsd-kind-icon">validate<wbr>Account<wbr>Password</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class"><a href="services_protocol_service.snprotocolservice.html#validatepasscode" class="tsd-kind-icon">validate<wbr>Passcode</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class"><a href="services_protocol_service.snprotocolservice.html#validatewrappingkey" class="tsd-kind-icon">validate<wbr>Wrapping<wbr>Key</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><a href="services_protocol_service.snprotocolservice.html#wrapandpersistrootkey" class="tsd-kind-icon">wrap<wbr>And<wbr>Persist<wbr>Root<wbr>Key</a></li>
							</ul>
						</section>
					</div>
				</section>
			</section>
			<section class="tsd-panel-group tsd-member-group ">
				<h2>Constructors</h2>
				<section class="tsd-panel tsd-member tsd-kind-constructor tsd-parent-kind-class tsd-is-inherited">
					<a name="constructor" class="tsd-anchor"></a>
					<h3>constructor</h3>
					<ul class="tsd-signatures tsd-kind-constructor tsd-parent-kind-class tsd-is-inherited">
						<li class="tsd-signature tsd-kind-icon">new SNProtocol<wbr>Service<span class="tsd-signature-symbol">(</span>itemManager<span class="tsd-signature-symbol">: </span><a href="services_item_manager.itemmanager.html" class="tsd-signature-type" data-tsd-kind="Class">ItemManager</a>, modelManager<span class="tsd-signature-symbol">: </span><a href="services_model_manager.payloadmanager.html" class="tsd-signature-type" data-tsd-kind="Class">PayloadManager</a>, deviceInterface<span class="tsd-signature-symbol">: </span><a href="device_interface.deviceinterface.html" class="tsd-signature-type" data-tsd-kind="Class">DeviceInterface</a>, storageService<span class="tsd-signature-symbol">: </span><a href="services_storage_service.snstorageservice.html" class="tsd-signature-type" data-tsd-kind="Class">SNStorageService</a>, identifier<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, crypto<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">SNPureCrypto</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="services_protocol_service.snprotocolservice.html" class="tsd-signature-type" data-tsd-kind="Class">SNProtocolService</a></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<p>Inherited from <a href="services_pure_service.pureservice.html">PureService</a>.<a href="services_pure_service.pureservice.html#constructor">constructor</a></p>
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L109">services/protocol_service.ts:109</a></li>
								</ul>
							</aside>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>itemManager: <a href="services_item_manager.itemmanager.html" class="tsd-signature-type" data-tsd-kind="Class">ItemManager</a></h5>
								</li>
								<li>
									<h5>modelManager: <a href="services_model_manager.payloadmanager.html" class="tsd-signature-type" data-tsd-kind="Class">PayloadManager</a></h5>
								</li>
								<li>
									<h5>deviceInterface: <a href="device_interface.deviceinterface.html" class="tsd-signature-type" data-tsd-kind="Class">DeviceInterface</a></h5>
								</li>
								<li>
									<h5>storageService: <a href="services_storage_service.snstorageservice.html" class="tsd-signature-type" data-tsd-kind="Class">SNStorageService</a></h5>
								</li>
								<li>
									<h5>identifier: <span class="tsd-signature-type">string</span></h5>
								</li>
								<li>
									<h5>crypto: <span class="tsd-signature-type">SNPureCrypto</span></h5>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <a href="services_protocol_service.snprotocolservice.html" class="tsd-signature-type" data-tsd-kind="Class">SNProtocolService</a></h4>
						</li>
					</ul>
				</section>
			</section>
			<section class="tsd-panel-group tsd-member-group ">
				<h2>Properties</h2>
				<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class">
					<a name="crypto" class="tsd-anchor"></a>
					<h3>crypto</h3>
					<div class="tsd-signature tsd-kind-icon">crypto<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">SNPureCrypto</span></div>
					<aside class="tsd-sources">
						<ul>
							<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L104">services/protocol_service.ts:104</a></li>
						</ul>
					</aside>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class tsd-is-inherited">
					<a name="deviceinterface" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagOptional">Optional</span> device<wbr>Interface</h3>
					<div class="tsd-signature tsd-kind-icon">device<wbr>Interface<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><a href="device_interface.deviceinterface.html" class="tsd-signature-type" data-tsd-kind="Class">DeviceInterface</a></div>
					<aside class="tsd-sources">
						<p>Inherited from <a href="services_pure_service.pureservice.html">PureService</a>.<a href="services_pure_service.pureservice.html#deviceinterface">deviceInterface</a></p>
						<ul>
							<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/pure_service.ts#L11">services/pure_service.ts:11</a></li>
						</ul>
					</aside>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class tsd-is-private">
					<a name="keymode" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagPrivate">Private</span> key<wbr>Mode</h3>
					<div class="tsd-signature tsd-kind-icon">key<wbr>Mode<span class="tsd-signature-symbol">:</span> <a href="../enums/services_protocol_service.keymode.html" class="tsd-signature-type" data-tsd-kind="Enumeration">KeyMode</a><span class="tsd-signature-symbol"> = ...</span></div>
					<aside class="tsd-sources">
						<ul>
							<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L106">services/protocol_service.ts:106</a></li>
						</ul>
					</aside>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class tsd-is-private">
					<a name="keyobservers" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagPrivate">Private</span> key<wbr>Observers</h3>
					<div class="tsd-signature tsd-kind-icon">key<wbr>Observers<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">KeyChangeObserver</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol"> = ...</span></div>
					<aside class="tsd-sources">
						<ul>
							<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L107">services/protocol_service.ts:107</a></li>
						</ul>
					</aside>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class tsd-is-inherited">
					<a name="loggingenabled" class="tsd-anchor"></a>
					<h3>logging<wbr>Enabled</h3>
					<div class="tsd-signature tsd-kind-icon">logging<wbr>Enabled<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol"> = false</span></div>
					<aside class="tsd-sources">
						<p>Inherited from <a href="services_pure_service.pureservice.html">PureService</a>.<a href="services_pure_service.pureservice.html#loggingenabled">loggingEnabled</a></p>
						<ul>
							<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/pure_service.ts#L10">services/pure_service.ts:10</a></li>
						</ul>
					</aside>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class tsd-is-private">
					<a name="operators" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagPrivate">Private</span> operators</h3>
					<div class="tsd-signature tsd-kind-icon">operators<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><a href="protocol_operator_operator.snprotocoloperator.html" class="tsd-signature-type" data-tsd-kind="Class">SNProtocolOperator</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> = ...</span></div>
					<aside class="tsd-sources">
						<ul>
							<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L105">services/protocol_service.ts:105</a></li>
						</ul>
					</aside>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class tsd-is-private">
					<a name="removeitemsobserver" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagPrivate">Private</span> remove<wbr>Items<wbr>Observer</h3>
					<div class="tsd-signature tsd-kind-icon">remove<wbr>Items<wbr>Observer<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span></div>
					<aside class="tsd-sources">
						<ul>
							<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L109">services/protocol_service.ts:109</a></li>
						</ul>
					</aside>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class tsd-is-private">
					<a name="rootkey" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagPrivate">Private</span> <span class="tsd-flag ts-flagOptional">Optional</span> root<wbr>Key</h3>
					<div class="tsd-signature tsd-kind-icon">root<wbr>Key<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><a href="protocol_root_key.snrootkey.html" class="tsd-signature-type" data-tsd-kind="Class">SNRootKey</a></div>
					<aside class="tsd-sources">
						<ul>
							<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L108">services/protocol_service.ts:108</a></li>
						</ul>
					</aside>
				</section>
			</section>
			<section class="tsd-panel-group tsd-member-group ">
				<h2>Methods</h2>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class">
					<a name="accountupgradeavailable" class="tsd-anchor"></a>
					<h3>account<wbr>Upgrade<wbr>Available</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
						<li class="tsd-signature tsd-kind-icon">account<wbr>Upgrade<wbr>Available<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L253">services/protocol_service.ts:253</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Returns true if the user&#39;s account protocol version is not equal to the latest version.</p>
								</div>
							</div>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-inherited">
					<a name="addeventobserver" class="tsd-anchor"></a>
					<h3>add<wbr>Event<wbr>Observer</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-inherited">
						<li class="tsd-signature tsd-kind-icon">add<wbr>Event<wbr>Observer<span class="tsd-signature-symbol">(</span>observer<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">EventObserver</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<p>Inherited from <a href="services_pure_service.pureservice.html">PureService</a>.<a href="services_pure_service.pureservice.html#addeventobserver">addEventObserver</a></p>
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/pure_service.ts#L14">services/pure_service.ts:14</a></li>
								</ul>
							</aside>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>observer: <span class="tsd-signature-type">EventObserver</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span></h5>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span></h4>
							<ul class="tsd-parameters">
								<li class="tsd-parameter-signature">
									<ul class="tsd-signatures tsd-kind-type-literal">
										<li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li>
									</ul>
									<ul class="tsd-descriptions">
										<li class="tsd-description">
											<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4>
										</li>
									</ul>
								</li>
							</ul>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-inherited">
					<a name="blockdeinit" class="tsd-anchor"></a>
					<h3>block<wbr>Deinit</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-inherited">
						<li class="tsd-signature tsd-kind-icon">block<wbr>Deinit<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<p>Inherited from <a href="services_pure_service.pureservice.html">PureService</a>.<a href="services_pure_service.pureservice.html#blockdeinit">blockDeinit</a></p>
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/pure_service.ts#L31">services/pure_service.ts:31</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Called by application to allow services to momentarily block deinit until
									sensitive operations complete.</p>
								</div>
							</div>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class">
					<a name="clearlocalkeystate" class="tsd-anchor"></a>
					<h3>clear<wbr>Local<wbr>Key<wbr>State</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
						<li class="tsd-signature tsd-kind-icon">clear<wbr>Local<wbr>Key<wbr>State<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L1133">services/protocol_service.ts:1133</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Deletes root key and wrapper from keychain. Used when signing out of application.</p>
								</div>
							</div>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class">
					<a name="computerootkey" class="tsd-anchor"></a>
					<h3>compute<wbr>Root<wbr>Key</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
						<li class="tsd-signature tsd-kind-icon">compute<wbr>Root<wbr>Key<span class="tsd-signature-symbol">(</span>password<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, keyParams<span class="tsd-signature-symbol">: </span><a href="protocol_key_params.snrootkeyparams.html" class="tsd-signature-type" data-tsd-kind="Class">SNRootKeyParams</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="protocol_root_key.snrootkey.html" class="tsd-signature-type" data-tsd-kind="Class">SNRootKey</a><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L387">services/protocol_service.ts:387</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Computes a root key given a password and key params.
									Delegates computation to respective protocol operator.</p>
								</div>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>password: <span class="tsd-signature-type">string</span></h5>
								</li>
								<li>
									<h5>keyParams: <a href="protocol_key_params.snrootkeyparams.html" class="tsd-signature-type" data-tsd-kind="Class">SNRootKeyParams</a></h5>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="protocol_root_key.snrootkey.html" class="tsd-signature-type" data-tsd-kind="Class">SNRootKey</a><span class="tsd-signature-symbol">&gt;</span></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class">
					<a name="computewrappingkey" class="tsd-anchor"></a>
					<h3>compute<wbr>Wrapping<wbr>Key</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
						<li class="tsd-signature tsd-kind-icon">compute<wbr>Wrapping<wbr>Key<span class="tsd-signature-symbol">(</span>passcode<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="protocol_root_key.snrootkey.html" class="tsd-signature-type" data-tsd-kind="Class">SNRootKey</a><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L945">services/protocol_service.ts:945</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Computes the root key wrapping key given a passcode.
									Wrapping key params are read from disk.</p>
								</div>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>passcode: <span class="tsd-signature-type">string</span></h5>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="protocol_root_key.snrootkey.html" class="tsd-signature-type" data-tsd-kind="Class">SNRootKey</a><span class="tsd-signature-symbol">&gt;</span></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class">
					<a name="costminimumforversion" class="tsd-anchor"></a>
					<h3>cost<wbr>Minimum<wbr>For<wbr>Version</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
						<li class="tsd-signature tsd-kind-icon">cost<wbr>Minimum<wbr>For<wbr>Version<span class="tsd-signature-symbol">(</span>version<span class="tsd-signature-symbol">: </span><a href="../enums/protocol_versions.protocolversion.html" class="tsd-signature-type" data-tsd-kind="Enumeration">ProtocolVersion</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../enums/protocol_operator_algorithms.v001algorithm.html#pbkdfmincost" class="tsd-signature-type" data-tsd-kind="Enumeration member">PbkdfMinCost</a><span class="tsd-signature-symbol"> | </span><a href="../enums/protocol_operator_algorithms.v002algorithm.html#pbkdfmincost" class="tsd-signature-type" data-tsd-kind="Enumeration member">PbkdfMinCost</a></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L333">services/protocol_service.ts:333</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Versions 001 and 002 of the protocol supported dynamic costs, as reported by the server.
										This function returns the client-enforced minimum cost, to prevent the server from
									overwhelmingly under-reporting the cost.</p>
								</div>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>version: <a href="../enums/protocol_versions.protocolversion.html" class="tsd-signature-type" data-tsd-kind="Enumeration">ProtocolVersion</a></h5>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <a href="../enums/protocol_operator_algorithms.v001algorithm.html#pbkdfmincost" class="tsd-signature-type" data-tsd-kind="Enumeration member">PbkdfMinCost</a><span class="tsd-signature-symbol"> | </span><a href="../enums/protocol_operator_algorithms.v002algorithm.html#pbkdfmincost" class="tsd-signature-type" data-tsd-kind="Enumeration member">PbkdfMinCost</a></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class">
					<a name="createbackupfile" class="tsd-anchor"></a>
					<h3>create<wbr>Backup<wbr>File</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
						<li class="tsd-signature tsd-kind-icon">create<wbr>Backup<wbr>File<span class="tsd-signature-symbol">(</span>intent<span class="tsd-signature-symbol">: </span><a href="../enums/protocol_intents.encryptionintent.html" class="tsd-signature-type" data-tsd-kind="Enumeration">EncryptionIntent</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../modules/services_protocol_service.html#backupfile" class="tsd-signature-type" data-tsd-kind="Type alias">BackupFile</a><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L745">services/protocol_service.ts:745</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Creates a JSON string representing the backup format of all items, or just subitems
									if supplied.</p>
								</div>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>intent: <a href="../enums/protocol_intents.encryptionintent.html" class="tsd-signature-type" data-tsd-kind="Enumeration">EncryptionIntent</a></h5>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../modules/services_protocol_service.html#backupfile" class="tsd-signature-type" data-tsd-kind="Type alias">BackupFile</a><span class="tsd-signature-symbol">&gt;</span></h4>
							<p>JSON stringified representation of data, including keyParams.</p>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class">
					<a name="createkeyparams" class="tsd-anchor"></a>
					<h3>create<wbr>Key<wbr>Params</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
						<li class="tsd-signature tsd-kind-icon">create<wbr>Key<wbr>Params<span class="tsd-signature-symbol">(</span>keyParams<span class="tsd-signature-symbol">: </span><a href="../modules/protocol_key_params.html#anykeyparamscontent" class="tsd-signature-type" data-tsd-kind="Type alias">AnyKeyParamsContent</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="protocol_key_params.snrootkeyparams.html" class="tsd-signature-type" data-tsd-kind="Class">SNRootKeyParams</a></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L733">services/protocol_service.ts:733</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Creates a key params object from a raw object</p>
								</div>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>keyParams: <a href="../modules/protocol_key_params.html#anykeyparamscontent" class="tsd-signature-type" data-tsd-kind="Type alias">AnyKeyParamsContent</a></h5>
									<div class="tsd-comment tsd-typography">
										<p>The raw key params object to create a KeyParams object from</p>
									</div>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <a href="protocol_key_params.snrootkeyparams.html" class="tsd-signature-type" data-tsd-kind="Class">SNRootKeyParams</a></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class">
					<a name="createnewdefaultitemskey" class="tsd-anchor"></a>
					<h3>create<wbr>New<wbr>Default<wbr>Items<wbr>Key</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
						<li class="tsd-signature tsd-kind-icon">create<wbr>New<wbr>Default<wbr>Items<wbr>Key<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="models_app_items_key.snitemskey.html" class="tsd-signature-type" data-tsd-kind="Class">SNItemsKey</a><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L1447">services/protocol_service.ts:1447</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Creates a new random SNItemsKey to use for item encryption, and adds it to model management.
										Consumer must call sync. If the protocol version &lt;= 003, only one items key should be created,
									and its .itemsKey value should be equal to the root key masterKey value.</p>
								</div>
							</div>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="models_app_items_key.snitemskey.html" class="tsd-signature-type" data-tsd-kind="Class">SNItemsKey</a><span class="tsd-signature-symbol">&gt;</span></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class">
					<a name="createnewitemskeywithrollback" class="tsd-anchor"></a>
					<h3>create<wbr>New<wbr>Items<wbr>Key<wbr>With<wbr>Rollback</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
						<li class="tsd-signature tsd-kind-icon">create<wbr>New<wbr>Items<wbr>Key<wbr>With<wbr>Rollback<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L1488">services/protocol_service.ts:1488</a></li>
								</ul>
							</aside>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-private">
					<a name="createoperatorforlatestversion" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagPrivate">Private</span> create<wbr>Operator<wbr>For<wbr>Latest<wbr>Version</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-private">
						<li class="tsd-signature tsd-kind-icon">create<wbr>Operator<wbr>For<wbr>Latest<wbr>Version<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="protocol_operator_operator.snprotocoloperator.html" class="tsd-signature-type" data-tsd-kind="Class">SNProtocolOperator</a></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L346">services/protocol_service.ts:346</a></li>
								</ul>
							</aside>
							<h4 class="tsd-returns-title">Returns <a href="protocol_operator_operator.snprotocoloperator.html" class="tsd-signature-type" data-tsd-kind="Class">SNProtocolOperator</a></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-private">
					<a name="createoperatorforversion" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagPrivate">Private</span> create<wbr>Operator<wbr>For<wbr>Version</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-private">
						<li class="tsd-signature tsd-kind-icon">create<wbr>Operator<wbr>For<wbr>Version<span class="tsd-signature-symbol">(</span>version<span class="tsd-signature-symbol">: </span><a href="../enums/protocol_versions.protocolversion.html" class="tsd-signature-type" data-tsd-kind="Enumeration">ProtocolVersion</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="protocol_operator_operator.snprotocoloperator.html" class="tsd-signature-type" data-tsd-kind="Class">SNProtocolOperator</a></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L350">services/protocol_service.ts:350</a></li>
								</ul>
							</aside>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>version: <a href="../enums/protocol_versions.protocolversion.html" class="tsd-signature-type" data-tsd-kind="Enumeration">ProtocolVersion</a></h5>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <a href="protocol_operator_operator.snprotocoloperator.html" class="tsd-signature-type" data-tsd-kind="Class">SNProtocolOperator</a></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class">
					<a name="createrootkey" class="tsd-anchor"></a>
					<h3>create<wbr>Root<wbr>Key</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
						<li class="tsd-signature tsd-kind-icon">create<wbr>Root<wbr>Key<span class="tsd-signature-symbol">(</span>identifier<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, password<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, origination<span class="tsd-signature-symbol">: </span><a href="../enums/protocol_key_params.keyparamsorigination.html" class="tsd-signature-type" data-tsd-kind="Enumeration">KeyParamsOrigination</a>, version<span class="tsd-signature-symbol">?: </span><a href="../enums/protocol_versions.protocolversion.html#v000base64decrypted" class="tsd-signature-type" data-tsd-kind="Enumeration member">V000Base64Decrypted</a><span class="tsd-signature-symbol"> | </span><a href="../enums/protocol_versions.protocolversion.html#v001" class="tsd-signature-type" data-tsd-kind="Enumeration member">V001</a><span class="tsd-signature-symbol"> | </span><a href="../enums/protocol_versions.protocolversion.html#v002" class="tsd-signature-type" data-tsd-kind="Enumeration member">V002</a><span class="tsd-signature-symbol"> | </span><a href="../enums/protocol_versions.protocolversion.html#v003" class="tsd-signature-type" data-tsd-kind="Enumeration member">V003</a><span class="tsd-signature-symbol"> | </span><a href="../enums/protocol_versions.protocolversion.html#v004" class="tsd-signature-type" data-tsd-kind="Enumeration member">V004</a><span class="tsd-signature-symbol"> | </span><a href="../enums/protocol_versions.protocolversion.html#versionlength" class="tsd-signature-type" data-tsd-kind="Enumeration member">VersionLength</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="protocol_root_key.snrootkey.html" class="tsd-signature-type" data-tsd-kind="Class">SNRootKey</a><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L396">services/protocol_service.ts:396</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Creates a root key using the latest protocol version</p>
								</div>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>identifier: <span class="tsd-signature-type">string</span></h5>
								</li>
								<li>
									<h5>password: <span class="tsd-signature-type">string</span></h5>
								</li>
								<li>
									<h5>origination: <a href="../enums/protocol_key_params.keyparamsorigination.html" class="tsd-signature-type" data-tsd-kind="Enumeration">KeyParamsOrigination</a></h5>
								</li>
								<li>
									<h5><span class="tsd-flag ts-flagOptional">Optional</span> version: <a href="../enums/protocol_versions.protocolversion.html#v000base64decrypted" class="tsd-signature-type" data-tsd-kind="Enumeration member">V000Base64Decrypted</a><span class="tsd-signature-symbol"> | </span><a href="../enums/protocol_versions.protocolversion.html#v001" class="tsd-signature-type" data-tsd-kind="Enumeration member">V001</a><span class="tsd-signature-symbol"> | </span><a href="../enums/protocol_versions.protocolversion.html#v002" class="tsd-signature-type" data-tsd-kind="Enumeration member">V002</a><span class="tsd-signature-symbol"> | </span><a href="../enums/protocol_versions.protocolversion.html#v003" class="tsd-signature-type" data-tsd-kind="Enumeration member">V003</a><span class="tsd-signature-symbol"> | </span><a href="../enums/protocol_versions.protocolversion.html#v004" class="tsd-signature-type" data-tsd-kind="Enumeration member">V004</a><span class="tsd-signature-symbol"> | </span><a href="../enums/protocol_versions.protocolversion.html#versionlength" class="tsd-signature-type" data-tsd-kind="Enumeration member">VersionLength</a></h5>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="protocol_root_key.snrootkey.html" class="tsd-signature-type" data-tsd-kind="Class">SNRootKey</a><span class="tsd-signature-symbol">&gt;</span></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class">
					<a name="decrypterroreditems" class="tsd-anchor"></a>
					<h3>decrypt<wbr>Errored<wbr>Items</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
						<li class="tsd-signature tsd-kind-icon">decrypt<wbr>Errored<wbr>Items<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L632">services/protocol_service.ts:632</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>If an item was attempting to decrypt, but failed, either because the keys
										for that item had not downloaded yet, or any other reason, it will be deferred
										item.errorDecrypting = true and possibly item.waitingForKey = true.
									Here we find such items, and attempt to decrypt them again.</p>
								</div>
							</div>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class">
					<a name="defaultitemskeyforitemversion" class="tsd-anchor"></a>
					<h3>default<wbr>Items<wbr>Key<wbr>For<wbr>Item<wbr>Version</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
						<li class="tsd-signature tsd-kind-icon">default<wbr>Items<wbr>Key<wbr>For<wbr>Item<wbr>Version<span class="tsd-signature-symbol">(</span>version<span class="tsd-signature-symbol">: </span><a href="../enums/protocol_versions.protocolversion.html" class="tsd-signature-type" data-tsd-kind="Enumeration">ProtocolVersion</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><a href="models_app_items_key.snitemskey.html" class="tsd-signature-type" data-tsd-kind="Class">SNItemsKey</a></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L1403">services/protocol_service.ts:1403</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>When migrating from non-SNItemsKey architecture, many items will not have a
										relationship with any key object. For those items, we can be sure that only 1 key
									object will correspond to that protocol version.</p>
								</div>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>version: <a href="../enums/protocol_versions.protocolversion.html" class="tsd-signature-type" data-tsd-kind="Enumeration">ProtocolVersion</a></h5>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><a href="models_app_items_key.snitemskey.html" class="tsd-signature-type" data-tsd-kind="Class">SNItemsKey</a></h4>
							<p>The SNItemsKey object to decrypt items encrypted
							with previous protocol version.</p>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-private">
					<a name="defaultoperator" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagPrivate">Private</span> default<wbr>Operator</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-private">
						<li class="tsd-signature tsd-kind-icon">default<wbr>Operator<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="protocol_operator_operator.snprotocoloperator.html" class="tsd-signature-type" data-tsd-kind="Class">SNProtocolOperator</a></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L379">services/protocol_service.ts:379</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Returns the operator corresponding to the latest protocol version</p>
								</div>
							</div>
							<h4 class="tsd-returns-title">Returns <a href="protocol_operator_operator.snprotocoloperator.html" class="tsd-signature-type" data-tsd-kind="Class">SNProtocolOperator</a></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-overwrite">
					<a name="deinit" class="tsd-anchor"></a>
					<h3>deinit</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-overwrite">
						<li class="tsd-signature tsd-kind-icon">deinit<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<p>Overrides <a href="services_pure_service.pureservice.html">PureService</a>.<a href="services_pure_service.pureservice.html#deinit">deinit</a></p>
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L154">services/protocol_service.ts:154</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<dl class="tsd-comment-tags">
									<dt>override</dt>
									<dd></dd>
								</dl>
							</div>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter tsd-is-inherited tsd-is-protected">
					<a name="executecriticalfunction" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagProtected">Protected</span> execute<wbr>Critical<wbr>Function</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter tsd-is-inherited tsd-is-protected">
						<li class="tsd-signature tsd-kind-icon">execute<wbr>Critical<wbr>Function&lt;T&gt;<span class="tsd-signature-symbol">(</span>func<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">T</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">T</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<p>Inherited from <a href="services_pure_service.pureservice.html">PureService</a>.<a href="services_pure_service.pureservice.html#executecriticalfunction">executeCriticalFunction</a></p>
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/pure_service.ts#L51">services/pure_service.ts:51</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>A critical function is one that should block signing out or destroying application
										session until the crticial function has completed. For example, persisting keys to
										disk is a critical operation, and should be wrapped in this function call. The
										parent application instance will await all criticial functions via the <code>blockDeinit</code>
									function before signing out and deiniting.</p>
								</div>
							</div>
							<h4 class="tsd-type-parameters-title">Type parameters</h4>
							<ul class="tsd-type-parameters">
								<li>
									<h4>T = <span class="tsd-signature-type">void</span></h4>
								</li>
							</ul>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>func: <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">T</span><span class="tsd-signature-symbol">&gt;</span></h5>
									<ul class="tsd-parameters">
										<li class="tsd-parameter-signature">
											<ul class="tsd-signatures tsd-kind-type-literal">
												<li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">T</span><span class="tsd-signature-symbol">&gt;</span></li>
											</ul>
											<ul class="tsd-descriptions">
												<li class="tsd-description">
													<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">T</span><span class="tsd-signature-symbol">&gt;</span></h4>
												</li>
											</ul>
										</li>
									</ul>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">T</span><span class="tsd-signature-symbol">&gt;</span></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class">
					<a name="getaccountkeyparams" class="tsd-anchor"></a>
					<h3>get<wbr>Account<wbr>Key<wbr>Params</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
						<li class="tsd-signature tsd-kind-icon">get<wbr>Account<wbr>Key<wbr>Params<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><a href="protocol_key_params.snrootkeyparams.html" class="tsd-signature-type" data-tsd-kind="Class">SNRootKeyParams</a><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L899">services/protocol_service.ts:899</a></li>
								</ul>
							</aside>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><a href="protocol_key_params.snrootkeyparams.html" class="tsd-signature-type" data-tsd-kind="Class">SNRootKeyParams</a><span class="tsd-signature-symbol">&gt;</span></h4>
							<p>getRootKeyParams may return different params based on different
							keyMode. This function however strictly returns only account params.</p>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class">
					<a name="getdefaultitemskey" class="tsd-anchor"></a>
					<h3>get<wbr>Default<wbr>Items<wbr>Key</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
						<li class="tsd-signature tsd-kind-icon">get<wbr>Default<wbr>Items<wbr>Key<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><a href="models_app_items_key.snitemskey.html" class="tsd-signature-type" data-tsd-kind="Class">SNItemsKey</a></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L1349">services/protocol_service.ts:1349</a></li>
								</ul>
							</aside>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><a href="models_app_items_key.snitemskey.html" class="tsd-signature-type" data-tsd-kind="Class">SNItemsKey</a></h4>
							<p>The SNItemsKey object to use to encrypt new or updated items.</p>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class">
					<a name="getencryptiondisplayname" class="tsd-anchor"></a>
					<h3>get<wbr>Encryption<wbr>Display<wbr>Name</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
						<li class="tsd-signature tsd-kind-icon">get<wbr>Encryption<wbr>Display<wbr>Name<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L206">services/protocol_service.ts:206</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Returns encryption protocol display name for active account/wrapper</p>
								</div>
							</div>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-private">
					<a name="getencryptionsourceversion" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagPrivate">Private</span> get<wbr>Encryption<wbr>Source<wbr>Version</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-private">
						<li class="tsd-signature tsd-kind-icon">get<wbr>Encryption<wbr>Source<wbr>Version<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><a href="../enums/protocol_versions.protocolversion.html#v000base64decrypted" class="tsd-signature-type" data-tsd-kind="Enumeration member">V000Base64Decrypted</a><span class="tsd-signature-symbol"> | </span><a href="../enums/protocol_versions.protocolversion.html#v001" class="tsd-signature-type" data-tsd-kind="Enumeration member">V001</a><span class="tsd-signature-symbol"> | </span><a href="../enums/protocol_versions.protocolversion.html#v002" class="tsd-signature-type" data-tsd-kind="Enumeration member">V002</a><span class="tsd-signature-symbol"> | </span><a href="../enums/protocol_versions.protocolversion.html#v003" class="tsd-signature-type" data-tsd-kind="Enumeration member">V003</a><span class="tsd-signature-symbol"> | </span><a href="../enums/protocol_versions.protocolversion.html#v004" class="tsd-signature-type" data-tsd-kind="Enumeration member">V004</a><span class="tsd-signature-symbol"> | </span><a href="../enums/protocol_versions.protocolversion.html#versionlength" class="tsd-signature-type" data-tsd-kind="Enumeration member">VersionLength</a><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L194">services/protocol_service.ts:194</a></li>
								</ul>
							</aside>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><a href="../enums/protocol_versions.protocolversion.html#v000base64decrypted" class="tsd-signature-type" data-tsd-kind="Enumeration member">V000Base64Decrypted</a><span class="tsd-signature-symbol"> | </span><a href="../enums/protocol_versions.protocolversion.html#v001" class="tsd-signature-type" data-tsd-kind="Enumeration member">V001</a><span class="tsd-signature-symbol"> | </span><a href="../enums/protocol_versions.protocolversion.html#v002" class="tsd-signature-type" data-tsd-kind="Enumeration member">V002</a><span class="tsd-signature-symbol"> | </span><a href="../enums/protocol_versions.protocolversion.html#v003" class="tsd-signature-type" data-tsd-kind="Enumeration member">V003</a><span class="tsd-signature-symbol"> | </span><a href="../enums/protocol_versions.protocolversion.html#v004" class="tsd-signature-type" data-tsd-kind="Enumeration member">V004</a><span class="tsd-signature-symbol"> | </span><a href="../enums/protocol_versions.protocolversion.html#versionlength" class="tsd-signature-type" data-tsd-kind="Enumeration member">VersionLength</a><span class="tsd-signature-symbol">&gt;</span></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class">
					<a name="getkeyembeddedkeyparams" class="tsd-anchor"></a>
					<h3>get<wbr>Key<wbr>Embedded<wbr>Key<wbr>Params</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
						<li class="tsd-signature tsd-kind-icon">get<wbr>Key<wbr>Embedded<wbr>Key<wbr>Params<span class="tsd-signature-symbol">(</span>key<span class="tsd-signature-symbol">: </span><a href="models_app_items_key.snitemskey.html" class="tsd-signature-type" data-tsd-kind="Class">SNItemsKey</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><a href="protocol_key_params.snrootkeyparams.html" class="tsd-signature-type" data-tsd-kind="Class">SNRootKeyParams</a><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L1360">services/protocol_service.ts:1360</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Returns the key params attached to this key&#39;s encrypted payload</p>
								</div>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>key: <a href="models_app_items_key.snitemskey.html" class="tsd-signature-type" data-tsd-kind="Class">SNItemsKey</a></h5>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><a href="protocol_key_params.snrootkeyparams.html" class="tsd-signature-type" data-tsd-kind="Class">SNRootKeyParams</a><span class="tsd-signature-symbol">&gt;</span></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class">
					<a name="getlatestversion" class="tsd-anchor"></a>
					<h3>get<wbr>Latest<wbr>Version</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
						<li class="tsd-signature tsd-kind-icon">get<wbr>Latest<wbr>Version<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../enums/protocol_versions.protocolversion.html" class="tsd-signature-type" data-tsd-kind="Enumeration">ProtocolVersion</a></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L216">services/protocol_service.ts:216</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Returns the latest protocol version</p>
								</div>
							</div>
							<h4 class="tsd-returns-title">Returns <a href="../enums/protocol_versions.protocolversion.html" class="tsd-signature-type" data-tsd-kind="Enumeration">ProtocolVersion</a></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class">
					<a name="getrootkey" class="tsd-anchor"></a>
					<h3>get<wbr>Root<wbr>Key</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
						<li class="tsd-signature tsd-kind-icon">get<wbr>Root<wbr>Key<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><a href="protocol_root_key.snrootkey.html" class="tsd-signature-type" data-tsd-kind="Class">SNRootKey</a></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L1126">services/protocol_service.ts:1126</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Returns the in-memory root key value.</p>
								</div>
							</div>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><a href="protocol_root_key.snrootkey.html" class="tsd-signature-type" data-tsd-kind="Class">SNRootKey</a></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-private">
					<a name="getrootkeyfromkeychain" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagPrivate">Private</span> get<wbr>Root<wbr>Key<wbr>From<wbr>Keychain</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-private">
						<li class="tsd-signature tsd-kind-icon">get<wbr>Root<wbr>Key<wbr>From<wbr>Keychain<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><a href="protocol_root_key.snrootkey.html" class="tsd-signature-type" data-tsd-kind="Class">SNRootKey</a><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L802">services/protocol_service.ts:802</a></li>
								</ul>
							</aside>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><a href="protocol_root_key.snrootkey.html" class="tsd-signature-type" data-tsd-kind="Class">SNRootKey</a><span class="tsd-signature-symbol">&gt;</span></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class">
					<a name="getrootkeyparams" class="tsd-anchor"></a>
					<h3>get<wbr>Root<wbr>Key<wbr>Params</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
						<li class="tsd-signature tsd-kind-icon">get<wbr>Root<wbr>Key<wbr>Params<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><a href="protocol_key_params.snrootkeyparams.html" class="tsd-signature-type" data-tsd-kind="Class">SNRootKeyParams</a><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L880">services/protocol_service.ts:880</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Returns rootKeyParams by reading from storage.</p>
								</div>
							</div>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><a href="protocol_key_params.snrootkeyparams.html" class="tsd-signature-type" data-tsd-kind="Class">SNRootKeyParams</a><span class="tsd-signature-symbol">&gt;</span></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class">
					<a name="getrootkeywrapperkeyparams" class="tsd-anchor"></a>
					<h3>get<wbr>Root<wbr>Key<wbr>Wrapper<wbr>Key<wbr>Params</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
						<li class="tsd-signature tsd-kind-icon">get<wbr>Root<wbr>Key<wbr>Wrapper<wbr>Key<wbr>Params<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><a href="protocol_key_params.snrootkeyparams.html" class="tsd-signature-type" data-tsd-kind="Class">SNRootKeyParams</a><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L856">services/protocol_service.ts:856</a></li>
								</ul>
							</aside>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><a href="protocol_key_params.snrootkeyparams.html" class="tsd-signature-type" data-tsd-kind="Class">SNRootKeyParams</a><span class="tsd-signature-symbol">&gt;</span></h4>
							<p>Key params object containing root key wrapper key params</p>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class">
					<a name="getuserversion" class="tsd-anchor"></a>
					<h3>get<wbr>User<wbr>Version</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
						<li class="tsd-signature tsd-kind-icon">get<wbr>User<wbr>Version<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><a href="../enums/protocol_versions.protocolversion.html#v000base64decrypted" class="tsd-signature-type" data-tsd-kind="Enumeration member">V000Base64Decrypted</a><span class="tsd-signature-symbol"> | </span><a href="../enums/protocol_versions.protocolversion.html#v001" class="tsd-signature-type" data-tsd-kind="Enumeration member">V001</a><span class="tsd-signature-symbol"> | </span><a href="../enums/protocol_versions.protocolversion.html#v002" class="tsd-signature-type" data-tsd-kind="Enumeration member">V002</a><span class="tsd-signature-symbol"> | </span><a href="../enums/protocol_versions.protocolversion.html#v003" class="tsd-signature-type" data-tsd-kind="Enumeration member">V003</a><span class="tsd-signature-symbol"> | </span><a href="../enums/protocol_versions.protocolversion.html#v004" class="tsd-signature-type" data-tsd-kind="Enumeration member">V004</a><span class="tsd-signature-symbol"> | </span><a href="../enums/protocol_versions.protocolversion.html#versionlength" class="tsd-signature-type" data-tsd-kind="Enumeration member">VersionLength</a><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L236">services/protocol_service.ts:236</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Returns the protocol version associated with the user&#39;s account</p>
								</div>
							</div>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><a href="../enums/protocol_versions.protocolversion.html#v000base64decrypted" class="tsd-signature-type" data-tsd-kind="Enumeration member">V000Base64Decrypted</a><span class="tsd-signature-symbol"> | </span><a href="../enums/protocol_versions.protocolversion.html#v001" class="tsd-signature-type" data-tsd-kind="Enumeration member">V001</a><span class="tsd-signature-symbol"> | </span><a href="../enums/protocol_versions.protocolversion.html#v002" class="tsd-signature-type" data-tsd-kind="Enumeration member">V002</a><span class="tsd-signature-symbol"> | </span><a href="../enums/protocol_versions.protocolversion.html#v003" class="tsd-signature-type" data-tsd-kind="Enumeration member">V003</a><span class="tsd-signature-symbol"> | </span><a href="../enums/protocol_versions.protocolversion.html#v004" class="tsd-signature-type" data-tsd-kind="Enumeration member">V004</a><span class="tsd-signature-symbol"> | </span><a href="../enums/protocol_versions.protocolversion.html#versionlength" class="tsd-signature-type" data-tsd-kind="Enumeration member">VersionLength</a><span class="tsd-signature-symbol">&gt;</span></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-private">
					<a name="getwrappedrootkey" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagPrivate">Private</span> get<wbr>Wrapped<wbr>Root<wbr>Key</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-private">
						<li class="tsd-signature tsd-kind-icon">get<wbr>Wrapped<wbr>Root<wbr>Key<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L870">services/protocol_service.ts:870</a></li>
								</ul>
							</aside>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></h4>
							<p>Object containing persisted wrapped (encrypted) root key</p>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-inherited">
					<a name="handleapplicationstage" class="tsd-anchor"></a>
					<h3>handle<wbr>Application<wbr>Stage</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-inherited">
						<li class="tsd-signature tsd-kind-icon">handle<wbr>Application<wbr>Stage<span class="tsd-signature-symbol">(</span>_stage<span class="tsd-signature-symbol">: </span><a href="../enums/stages.applicationstage.html" class="tsd-signature-type" data-tsd-kind="Enumeration">ApplicationStage</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<p>Inherited from <a href="services_pure_service.pureservice.html">PureService</a>.<a href="services_pure_service.pureservice.html#handleapplicationstage">handleApplicationStage</a></p>
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/pure_service.ts#L62">services/pure_service.ts:62</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Application instances will call this function directly when they arrive
									at a certain migratory state.</p>
								</div>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>_stage: <a href="../enums/stages.applicationstage.html" class="tsd-signature-type" data-tsd-kind="Enumeration">ApplicationStage</a></h5>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-private">
					<a name="handledownloadfirstsynccompletion" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagPrivate">Private</span> handle<wbr>Download<wbr>First<wbr>Sync<wbr>Completion</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-private">
						<li class="tsd-signature tsd-kind-icon">handle<wbr>Download<wbr>First<wbr>Sync<wbr>Completion<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L1262">services/protocol_service.ts:1262</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>When a download-first sync completes, it means we&#39;ve completed a (potentially multipage)
										sync where we only downloaded what the server had before uploading anything. We will be
										allowed to make local accomadations here before the server begins with the upload
										part of the sync (automatically runs after download-first sync completes).
										We use this to see if the server has any default itemsKeys, and if so, allows us to
									delete any never-synced items keys we have here locally.</p>
								</div>
							</div>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-private">
					<a name="handlefullsynccompletion" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagPrivate">Private</span> handle<wbr>Full<wbr>Sync<wbr>Completion</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-private">
						<li class="tsd-signature tsd-kind-icon">handle<wbr>Full<wbr>Sync<wbr>Completion<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L1309">services/protocol_service.ts:1309</a></li>
								</ul>
							</aside>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class">
					<a name="hasaccount" class="tsd-anchor"></a>
					<h3>has<wbr>Account</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
						<li class="tsd-signature tsd-kind-icon">has<wbr>Account<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L220">services/protocol_service.ts:220</a></li>
								</ul>
							</aside>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class">
					<a name="haspasscode" class="tsd-anchor"></a>
					<h3>has<wbr>Passcode</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
						<li class="tsd-signature tsd-kind-icon">has<wbr>Passcode<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L839">services/protocol_service.ts:839</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>A non-async alternative to <code>hasRootKeyWrapper</code> which uses pre-loaded state
									to determine if a passcode is configured.</p>
								</div>
							</div>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class">
					<a name="hasrootkeywrapper" class="tsd-anchor"></a>
					<h3>has<wbr>Root<wbr>Key<wbr>Wrapper</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
						<li class="tsd-signature tsd-kind-icon">has<wbr>Root<wbr>Key<wbr>Wrapper<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L830">services/protocol_service.ts:830</a></li>
								</ul>
							</aside>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></h4>
							<p>True if a root key wrapper (passcode) is configured.</p>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class">
					<a name="initialize" class="tsd-anchor"></a>
					<h3>initialize</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
						<li class="tsd-signature tsd-kind-icon">initialize<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L169">services/protocol_service.ts:169</a></li>
								</ul>
							</aside>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class">
					<a name="isprotocolversionoutdated" class="tsd-anchor"></a>
					<h3>is<wbr>Protocol<wbr>Version<wbr>Outdated</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
						<li class="tsd-signature tsd-kind-icon">is<wbr>Protocol<wbr>Version<wbr>Outdated<span class="tsd-signature-symbol">(</span>version<span class="tsd-signature-symbol">: </span><a href="../enums/protocol_versions.protocolversion.html" class="tsd-signature-type" data-tsd-kind="Enumeration">ProtocolVersion</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L314">services/protocol_service.ts:314</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Determines whether the input version is expired</p>
								</div>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>version: <a href="../enums/protocol_versions.protocolversion.html" class="tsd-signature-type" data-tsd-kind="Enumeration">ProtocolVersion</a></h5>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class">
					<a name="isversionnewerthanlibraryversion" class="tsd-anchor"></a>
					<h3>is<wbr>Version<wbr>Newer<wbr>Than<wbr>Library<wbr>Version</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
						<li class="tsd-signature tsd-kind-icon">is<wbr>Version<wbr>Newer<wbr>Than<wbr>Library<wbr>Version<span class="tsd-signature-symbol">(</span>version<span class="tsd-signature-symbol">: </span><a href="../enums/protocol_versions.protocolversion.html" class="tsd-signature-type" data-tsd-kind="Enumeration">ProtocolVersion</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L306">services/protocol_service.ts:306</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Determines whether the input version is greater than the latest supported library version.</p>
								</div>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>version: <a href="../enums/protocol_versions.protocolversion.html" class="tsd-signature-type" data-tsd-kind="Enumeration">ProtocolVersion</a></h5>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class">
					<a name="itemskeyforpayload" class="tsd-anchor"></a>
					<h3>items<wbr>Key<wbr>For<wbr>Payload</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
						<li class="tsd-signature tsd-kind-icon">items<wbr>Key<wbr>For<wbr>Payload<span class="tsd-signature-symbol">(</span>payload<span class="tsd-signature-symbol">: </span><a href="protocol_payloads_pure_payload.purepayload.html" class="tsd-signature-type" data-tsd-kind="Class">PurePayload</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><a href="models_app_items_key.snitemskey.html" class="tsd-signature-type" data-tsd-kind="Class">SNItemsKey</a></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L1342">services/protocol_service.ts:1342</a></li>
								</ul>
							</aside>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>payload: <a href="protocol_payloads_pure_payload.purepayload.html" class="tsd-signature-type" data-tsd-kind="Class">PurePayload</a></h5>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><a href="models_app_items_key.snitemskey.html" class="tsd-signature-type" data-tsd-kind="Class">SNItemsKey</a></h4>
							<p>The items key used to encrypt the payload</p>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-private">
					<a name="keytousefordecryptionofpayload" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagPrivate">Private</span> key<wbr>ToUse<wbr>For<wbr>Decryption<wbr>OfPayload</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-private">
						<li class="tsd-signature tsd-kind-icon">key<wbr>ToUse<wbr>For<wbr>Decryption<wbr>OfPayload<span class="tsd-signature-symbol">(</span>payload<span class="tsd-signature-symbol">: </span><a href="protocol_payloads_pure_payload.purepayload.html" class="tsd-signature-type" data-tsd-kind="Class">PurePayload</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><a href="protocol_root_key.snrootkey.html" class="tsd-signature-type" data-tsd-kind="Class">SNRootKey</a><span class="tsd-signature-symbol"> | </span><a href="models_app_items_key.snitemskey.html" class="tsd-signature-type" data-tsd-kind="Class">SNItemsKey</a><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L1230">services/protocol_service.ts:1230</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Payloads could have been previously encrypted with any arbitrary SNItemsKey object.
										If the payload is an items key object, it is always encrypted with the root key,
										and so return that. Otherwise, we check to see if the payload has an
										items_key_id and return that key. If it doesn&#39;t, this means the payload was
										encrypted with legacy behavior. We return then the key object corresponding
									to the version of this payload.</p>
								</div>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>payload: <a href="protocol_payloads_pure_payload.purepayload.html" class="tsd-signature-type" data-tsd-kind="Class">PurePayload</a></h5>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><a href="protocol_root_key.snrootkey.html" class="tsd-signature-type" data-tsd-kind="Class">SNRootKey</a><span class="tsd-signature-symbol"> | </span><a href="models_app_items_key.snitemskey.html" class="tsd-signature-type" data-tsd-kind="Class">SNItemsKey</a><span class="tsd-signature-symbol">&gt;</span></h4>
							<p>The key object to use for decrypting this payload.</p>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-private">
					<a name="keytouseforencryptionofpayload" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagPrivate">Private</span> key<wbr>ToUse<wbr>For<wbr>Encryption<wbr>OfPayload</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-private">
						<li class="tsd-signature tsd-kind-icon">key<wbr>ToUse<wbr>For<wbr>Encryption<wbr>OfPayload<span class="tsd-signature-symbol">(</span>payload<span class="tsd-signature-symbol">: </span><a href="protocol_payloads_pure_payload.purepayload.html" class="tsd-signature-type" data-tsd-kind="Class">PurePayload</a>, intent<span class="tsd-signature-symbol">: </span><a href="../enums/protocol_intents.encryptionintent.html" class="tsd-signature-type" data-tsd-kind="Enumeration">EncryptionIntent</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><a href="protocol_root_key.snrootkey.html" class="tsd-signature-type" data-tsd-kind="Class">SNRootKey</a><span class="tsd-signature-symbol"> | </span><a href="models_app_items_key.snitemskey.html" class="tsd-signature-type" data-tsd-kind="Class">SNItemsKey</a><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L1187">services/protocol_service.ts:1187</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Determines which key to use for encryption of the payload
									The key object to use for encrypting the payload.</p>
								</div>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>payload: <a href="protocol_payloads_pure_payload.purepayload.html" class="tsd-signature-type" data-tsd-kind="Class">PurePayload</a></h5>
								</li>
								<li>
									<h5>intent: <a href="../enums/protocol_intents.encryptionintent.html" class="tsd-signature-type" data-tsd-kind="Enumeration">EncryptionIntent</a></h5>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><a href="protocol_root_key.snrootkey.html" class="tsd-signature-type" data-tsd-kind="Class">SNRootKey</a><span class="tsd-signature-symbol"> | </span><a href="models_app_items_key.snitemskey.html" class="tsd-signature-type" data-tsd-kind="Class">SNItemsKey</a><span class="tsd-signature-symbol">&gt;</span></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-private">
					<a name="latestitemskeys" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagPrivate">Private</span> latest<wbr>Items<wbr>Keys</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-private">
						<li class="tsd-signature tsd-kind-icon">latest<wbr>Items<wbr>Keys<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="models_app_items_key.snitemskey.html" class="tsd-signature-type" data-tsd-kind="Class">SNItemsKey</a><span class="tsd-signature-symbol">[]</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L1335">services/protocol_service.ts:1335</a></li>
								</ul>
							</aside>
							<h4 class="tsd-returns-title">Returns <a href="models_app_items_key.snitemskey.html" class="tsd-signature-type" data-tsd-kind="Class">SNItemsKey</a><span class="tsd-signature-symbol">[]</span></h4>
							<p>All SN|ItemsKey objects synced to the account.</p>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-inherited">
					<a name="log" class="tsd-anchor"></a>
					<h3>log</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-inherited">
						<li class="tsd-signature tsd-kind-icon">log<span class="tsd-signature-symbol">(</span>message<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, <span class="tsd-signature-symbol">...</span>args<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<p>Inherited from <a href="services_pure_service.pureservice.html">PureService</a>.<a href="services_pure_service.pureservice.html#log">log</a></p>
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/pure_service.ts#L66">services/pure_service.ts:66</a></li>
								</ul>
							</aside>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>message: <span class="tsd-signature-type">string</span></h5>
								</li>
								<li>
									<h5><span class="tsd-flag ts-flagRest">Rest</span> <span class="tsd-signature-symbol">...</span>args: <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">[]</span></h5>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class">
					<a name="needsnewrootkeybaseditemskey" class="tsd-anchor"></a>
					<h3>needs<wbr>New<wbr>Root<wbr>Key<wbr>Based<wbr>Items<wbr>Key</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
						<li class="tsd-signature tsd-kind-icon">needs<wbr>New<wbr>Root<wbr>Key<wbr>Based<wbr>Items<wbr>Key<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L1420">services/protocol_service.ts:1420</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>A new root key based items key is needed if a user changes their account password
									on an 003 client and syncs on a signed in 004 client.</p>
								</div>
							</div>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-inherited tsd-is-protected">
					<a name="notifyevent" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagProtected">Protected</span> notify<wbr>Event</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-inherited tsd-is-protected">
						<li class="tsd-signature tsd-kind-icon">notify<wbr>Event<span class="tsd-signature-symbol">(</span>eventName<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, data<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<p>Inherited from <a href="services_pure_service.pureservice.html">PureService</a>.<a href="services_pure_service.pureservice.html#notifyevent">notifyEvent</a></p>
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/pure_service.ts#L21">services/pure_service.ts:21</a></li>
								</ul>
							</aside>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>eventName: <span class="tsd-signature-type">string</span></h5>
								</li>
								<li>
									<h5><span class="tsd-flag ts-flagOptional">Optional</span> data: <span class="tsd-signature-type">any</span></h5>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-private">
					<a name="notifyobserversofkeychange" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagPrivate">Private</span> notify<wbr>Observers<wbr>OfKey<wbr>Change</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-private">
						<li class="tsd-signature tsd-kind-icon">notify<wbr>Observers<wbr>OfKey<wbr>Change<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L796">services/protocol_service.ts:796</a></li>
								</ul>
							</aside>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class">
					<a name="onkeystatuschange" class="tsd-anchor"></a>
					<h3>on<wbr>Key<wbr>Status<wbr>Change</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
						<li class="tsd-signature tsd-kind-icon">on<wbr>Key<wbr>Status<wbr>Change<span class="tsd-signature-symbol">(</span>callback<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">KeyChangeObserver</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L789">services/protocol_service.ts:789</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Register a callback to be notified when root key status changes.</p>
								</div>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>callback: <span class="tsd-signature-type">KeyChangeObserver</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>A function that takes in a content type to call back when root
										key or wrapper status has changed.</p>
									</div>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span></h4>
							<ul class="tsd-parameters">
								<li class="tsd-parameter-signature">
									<ul class="tsd-signatures tsd-kind-type-literal">
										<li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li>
									</ul>
									<ul class="tsd-descriptions">
										<li class="tsd-description">
											<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4>
										</li>
									</ul>
								</li>
							</ul>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class">
					<a name="onsyncevent" class="tsd-anchor"></a>
					<h3>on<wbr>Sync<wbr>Event</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
						<li class="tsd-signature tsd-kind-icon">on<wbr>Sync<wbr>Event<span class="tsd-signature-symbol">(</span>eventName<span class="tsd-signature-symbol">: </span><a href="../enums/services_sync_events.syncevent.html" class="tsd-signature-type" data-tsd-kind="Enumeration">SyncEvent</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L1245">services/protocol_service.ts:1245</a></li>
								</ul>
							</aside>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>eventName: <a href="../enums/services_sync_events.syncevent.html" class="tsd-signature-type" data-tsd-kind="Enumeration">SyncEvent</a></h5>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-private">
					<a name="operatorforversion" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagPrivate">Private</span> operator<wbr>For<wbr>Version</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-private">
						<li class="tsd-signature tsd-kind-icon">operator<wbr>For<wbr>Version<span class="tsd-signature-symbol">(</span>version<span class="tsd-signature-symbol">: </span><a href="../enums/protocol_versions.protocolversion.html" class="tsd-signature-type" data-tsd-kind="Enumeration">ProtocolVersion</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="protocol_operator_operator.snprotocoloperator.html" class="tsd-signature-type" data-tsd-kind="Class">SNProtocolOperator</a></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L366">services/protocol_service.ts:366</a></li>
								</ul>
							</aside>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>version: <a href="../enums/protocol_versions.protocolversion.html" class="tsd-signature-type" data-tsd-kind="Enumeration">ProtocolVersion</a></h5>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <a href="protocol_operator_operator.snprotocoloperator.html" class="tsd-signature-type" data-tsd-kind="Class">SNProtocolOperator</a></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class">
					<a name="passcodeupgradeavailable" class="tsd-anchor"></a>
					<h3>passcode<wbr>Upgrade<wbr>Available</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
						<li class="tsd-signature tsd-kind-icon">passcode<wbr>Upgrade<wbr>Available<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L264">services/protocol_service.ts:264</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Returns true if the user&#39;s account protocol version is not equal to the latest version.</p>
								</div>
							</div>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class">
					<a name="payloadbydecryptingpayload" class="tsd-anchor"></a>
					<h3>payload<wbr>ByDecrypting<wbr>Payload</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
						<li class="tsd-signature tsd-kind-icon">payload<wbr>ByDecrypting<wbr>Payload<span class="tsd-signature-symbol">(</span>payload<span class="tsd-signature-symbol">: </span><a href="protocol_payloads_pure_payload.purepayload.html" class="tsd-signature-type" data-tsd-kind="Class">PurePayload</a>, key<span class="tsd-signature-symbol">?: </span><a href="protocol_root_key.snrootkey.html" class="tsd-signature-type" data-tsd-kind="Class">SNRootKey</a><span class="tsd-signature-symbol"> | </span><a href="models_app_items_key.snitemskey.html" class="tsd-signature-type" data-tsd-kind="Class">SNItemsKey</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="protocol_payloads_pure_payload.purepayload.html" class="tsd-signature-type" data-tsd-kind="Class">PurePayload</a><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<p>Implementation of <a href="../interfaces/services_encryption_delegate.encryptiondelegate.html">EncryptionDelegate</a>.<a href="../interfaces/services_encryption_delegate.encryptiondelegate.html#payloadbydecryptingpayload">payloadByDecryptingPayload</a></p>
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L534">services/protocol_service.ts:534</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Generates a new payload by decrypting the input payload.
									If the input payload is already decrypted, it will be returned as-is.</p>
								</div>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>payload: <a href="protocol_payloads_pure_payload.purepayload.html" class="tsd-signature-type" data-tsd-kind="Class">PurePayload</a></h5>
									<div class="tsd-comment tsd-typography">
										<p>The payload to decrypt.</p>
									</div>
								</li>
								<li>
									<h5><span class="tsd-flag ts-flagOptional">Optional</span> key: <a href="protocol_root_key.snrootkey.html" class="tsd-signature-type" data-tsd-kind="Class">SNRootKey</a><span class="tsd-signature-symbol"> | </span><a href="models_app_items_key.snitemskey.html" class="tsd-signature-type" data-tsd-kind="Class">SNItemsKey</a></h5>
									<div class="tsd-comment tsd-typography">
										<p>The key to use to decrypt the payload.
										If none is supplied, it will be automatically looked up.</p>
									</div>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="protocol_payloads_pure_payload.purepayload.html" class="tsd-signature-type" data-tsd-kind="Class">PurePayload</a><span class="tsd-signature-symbol">&gt;</span></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class">
					<a name="payloadbyencryptingpayload" class="tsd-anchor"></a>
					<h3>payload<wbr>ByEncrypting<wbr>Payload</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
						<li class="tsd-signature tsd-kind-icon">payload<wbr>ByEncrypting<wbr>Payload<span class="tsd-signature-symbol">(</span>payload<span class="tsd-signature-symbol">: </span><a href="protocol_payloads_pure_payload.purepayload.html" class="tsd-signature-type" data-tsd-kind="Class">PurePayload</a>, intent<span class="tsd-signature-symbol">: </span><a href="../enums/protocol_intents.encryptionintent.html" class="tsd-signature-type" data-tsd-kind="Enumeration">EncryptionIntent</a>, key<span class="tsd-signature-symbol">?: </span><a href="protocol_root_key.snrootkey.html" class="tsd-signature-type" data-tsd-kind="Class">SNRootKey</a><span class="tsd-signature-symbol"> | </span><a href="models_app_items_key.snitemskey.html" class="tsd-signature-type" data-tsd-kind="Class">SNItemsKey</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="protocol_payloads_pure_payload.purepayload.html" class="tsd-signature-type" data-tsd-kind="Class">PurePayload</a><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<p>Implementation of <a href="../interfaces/services_encryption_delegate.encryptiondelegate.html">EncryptionDelegate</a>.<a href="../interfaces/services_encryption_delegate.encryptiondelegate.html#payloadbyencryptingpayload">payloadByEncryptingPayload</a></p>
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L457">services/protocol_service.ts:457</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Generates parameters for a payload that are typically encrypted, and used for syncing
										or saving locally. Parameters are non-typed objects that can later by converted to objects.
										If the input payload is not properly decrypted in the first place, it will be returned
									as-is. If the payload is deleted, it will be returned as-is (assuming that the content field is null)</p>
								</div>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>payload: <a href="protocol_payloads_pure_payload.purepayload.html" class="tsd-signature-type" data-tsd-kind="Class">PurePayload</a></h5>
									<div class="tsd-comment tsd-typography">
										<p>The payload to encrypt</p>
									</div>
								</li>
								<li>
									<h5>intent: <a href="../enums/protocol_intents.encryptionintent.html" class="tsd-signature-type" data-tsd-kind="Enumeration">EncryptionIntent</a></h5>
									<div class="tsd-comment tsd-typography">
										<p>The target of the encryption</p>
									</div>
								</li>
								<li>
									<h5><span class="tsd-flag ts-flagOptional">Optional</span> key: <a href="protocol_root_key.snrootkey.html" class="tsd-signature-type" data-tsd-kind="Class">SNRootKey</a><span class="tsd-signature-symbol"> | </span><a href="models_app_items_key.snitemskey.html" class="tsd-signature-type" data-tsd-kind="Class">SNItemsKey</a></h5>
									<div class="tsd-comment tsd-typography">
										<p>The key to use to encrypt the payload.
										Will be looked up if not supplied.</p>
									</div>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="protocol_payloads_pure_payload.purepayload.html" class="tsd-signature-type" data-tsd-kind="Class">PurePayload</a><span class="tsd-signature-symbol">&gt;</span></h4>
							<p>The encrypted payload</p>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-private">
					<a name="payloadcontentformatforintent" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagPrivate">Private</span> payload<wbr>Content<wbr>Format<wbr>For<wbr>Intent</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-private">
						<li class="tsd-signature tsd-kind-icon">payload<wbr>Content<wbr>Format<wbr>For<wbr>Intent<span class="tsd-signature-symbol">(</span>intent<span class="tsd-signature-symbol">: </span><a href="../enums/protocol_intents.encryptionintent.html" class="tsd-signature-type" data-tsd-kind="Enumeration">EncryptionIntent</a>, key<span class="tsd-signature-symbol">?: </span><a href="protocol_root_key.snrootkey.html" class="tsd-signature-type" data-tsd-kind="Class">SNRootKey</a><span class="tsd-signature-symbol"> | </span><a href="models_app_items_key.snitemskey.html" class="tsd-signature-type" data-tsd-kind="Class">SNItemsKey</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../enums/protocol_payloads_formats.payloadformat.html#encryptedstring" class="tsd-signature-type" data-tsd-kind="Enumeration member">EncryptedString</a><span class="tsd-signature-symbol"> | </span><a href="../enums/protocol_payloads_formats.payloadformat.html#decryptedbareobject" class="tsd-signature-type" data-tsd-kind="Enumeration member">DecryptedBareObject</a><span class="tsd-signature-symbol"> | </span><a href="../enums/protocol_payloads_formats.payloadformat.html#decryptedbase64string" class="tsd-signature-type" data-tsd-kind="Enumeration member">DecryptedBase64String</a></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L410">services/protocol_service.ts:410</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Given a key and intent, returns the proper PayloadFormat,
									or throws an exception if unsupported configuration of parameters.</p>
								</div>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>intent: <a href="../enums/protocol_intents.encryptionintent.html" class="tsd-signature-type" data-tsd-kind="Enumeration">EncryptionIntent</a></h5>
								</li>
								<li>
									<h5><span class="tsd-flag ts-flagOptional">Optional</span> key: <a href="protocol_root_key.snrootkey.html" class="tsd-signature-type" data-tsd-kind="Class">SNRootKey</a><span class="tsd-signature-symbol"> | </span><a href="models_app_items_key.snitemskey.html" class="tsd-signature-type" data-tsd-kind="Class">SNItemsKey</a></h5>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <a href="../enums/protocol_payloads_formats.payloadformat.html#encryptedstring" class="tsd-signature-type" data-tsd-kind="Enumeration member">EncryptedString</a><span class="tsd-signature-symbol"> | </span><a href="../enums/protocol_payloads_formats.payloadformat.html#decryptedbareobject" class="tsd-signature-type" data-tsd-kind="Enumeration member">DecryptedBareObject</a><span class="tsd-signature-symbol"> | </span><a href="../enums/protocol_payloads_formats.payloadformat.html#decryptedbase64string" class="tsd-signature-type" data-tsd-kind="Enumeration member">DecryptedBase64String</a></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class">
					<a name="payloadsbydecryptingbackupfile" class="tsd-anchor"></a>
					<h3>payloads<wbr>ByDecrypting<wbr>Backup<wbr>File</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
						<li class="tsd-signature tsd-kind-icon">payloads<wbr>ByDecrypting<wbr>Backup<wbr>File<span class="tsd-signature-symbol">(</span>data<span class="tsd-signature-symbol">: </span><a href="../modules/services_protocol_service.html#backupfile" class="tsd-signature-type" data-tsd-kind="Type alias">BackupFile</a>, password<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="protocol_payloads_pure_payload.purepayload.html" class="tsd-signature-type" data-tsd-kind="Class">PurePayload</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L652">services/protocol_service.ts:652</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Decrypts a backup file using user-inputted password</p>
								</div>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>data: <a href="../modules/services_protocol_service.html#backupfile" class="tsd-signature-type" data-tsd-kind="Type alias">BackupFile</a></h5>
								</li>
								<li>
									<h5><span class="tsd-flag ts-flagOptional">Optional</span> password: <span class="tsd-signature-type">string</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>The raw user password associated with this backup file</p>
									</div>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="protocol_payloads_pure_payload.purepayload.html" class="tsd-signature-type" data-tsd-kind="Class">PurePayload</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class">
					<a name="payloadsbydecryptingpayloads" class="tsd-anchor"></a>
					<h3>payloads<wbr>ByDecrypting<wbr>Payloads</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
						<li class="tsd-signature tsd-kind-icon">payloads<wbr>ByDecrypting<wbr>Payloads<span class="tsd-signature-symbol">(</span>payloads<span class="tsd-signature-symbol">: </span><a href="protocol_payloads_pure_payload.purepayload.html" class="tsd-signature-type" data-tsd-kind="Class">PurePayload</a><span class="tsd-signature-symbol">[]</span>, key<span class="tsd-signature-symbol">?: </span><a href="protocol_root_key.snrootkey.html" class="tsd-signature-type" data-tsd-kind="Class">SNRootKey</a><span class="tsd-signature-symbol"> | </span><a href="models_app_items_key.snitemskey.html" class="tsd-signature-type" data-tsd-kind="Class">SNItemsKey</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="protocol_payloads_pure_payload.purepayload.html" class="tsd-signature-type" data-tsd-kind="Class">PurePayload</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L600">services/protocol_service.ts:600</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Similar to <code>payloadByDecryptingPayload</code>, but operates on an array of payloads.</p>
								</div>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>payloads: <a href="protocol_payloads_pure_payload.purepayload.html" class="tsd-signature-type" data-tsd-kind="Class">PurePayload</a><span class="tsd-signature-symbol">[]</span></h5>
								</li>
								<li>
									<h5><span class="tsd-flag ts-flagOptional">Optional</span> key: <a href="protocol_root_key.snrootkey.html" class="tsd-signature-type" data-tsd-kind="Class">SNRootKey</a><span class="tsd-signature-symbol"> | </span><a href="models_app_items_key.snitemskey.html" class="tsd-signature-type" data-tsd-kind="Class">SNItemsKey</a></h5>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="protocol_payloads_pure_payload.purepayload.html" class="tsd-signature-type" data-tsd-kind="Class">PurePayload</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class">
					<a name="payloadsbyencryptingpayloads" class="tsd-anchor"></a>
					<h3>payloads<wbr>ByEncrypting<wbr>Payloads</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
						<li class="tsd-signature tsd-kind-icon">payloads<wbr>ByEncrypting<wbr>Payloads<span class="tsd-signature-symbol">(</span>payloads<span class="tsd-signature-symbol">: </span><a href="protocol_payloads_pure_payload.purepayload.html" class="tsd-signature-type" data-tsd-kind="Class">PurePayload</a><span class="tsd-signature-symbol">[]</span>, intent<span class="tsd-signature-symbol">: </span><a href="../enums/protocol_intents.encryptionintent.html#sync" class="tsd-signature-type" data-tsd-kind="Enumeration member">Sync</a><span class="tsd-signature-symbol"> | </span><a href="../enums/protocol_intents.encryptionintent.html#syncdecrypted" class="tsd-signature-type" data-tsd-kind="Enumeration member">SyncDecrypted</a><span class="tsd-signature-symbol"> | </span><a href="../enums/protocol_intents.encryptionintent.html#localstorageencrypted" class="tsd-signature-type" data-tsd-kind="Enumeration member">LocalStorageEncrypted</a><span class="tsd-signature-symbol"> | </span><a href="../enums/protocol_intents.encryptionintent.html#localstoragedecrypted" class="tsd-signature-type" data-tsd-kind="Enumeration member">LocalStorageDecrypted</a><span class="tsd-signature-symbol"> | </span><a href="../enums/protocol_intents.encryptionintent.html#localstoragepreferencrypted" class="tsd-signature-type" data-tsd-kind="Enumeration member">LocalStoragePreferEncrypted</a><span class="tsd-signature-symbol"> | </span><a href="../enums/protocol_intents.encryptionintent.html#fileencrypted" class="tsd-signature-type" data-tsd-kind="Enumeration member">FileEncrypted</a><span class="tsd-signature-symbol"> | </span><a href="../enums/protocol_intents.encryptionintent.html#filedecrypted" class="tsd-signature-type" data-tsd-kind="Enumeration member">FileDecrypted</a><span class="tsd-signature-symbol"> | </span><a href="../enums/protocol_intents.encryptionintent.html#filepreferencrypted" class="tsd-signature-type" data-tsd-kind="Enumeration member">FilePreferEncrypted</a><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span>payload<span class="tsd-signature-symbol">: </span><a href="protocol_payloads_pure_payload.purepayload.html" class="tsd-signature-type" data-tsd-kind="Class">PurePayload</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><a href="../enums/protocol_intents.encryptionintent.html" class="tsd-signature-type" data-tsd-kind="Enumeration">EncryptionIntent</a><span class="tsd-signature-symbol">)</span>, key<span class="tsd-signature-symbol">?: </span><a href="protocol_root_key.snrootkey.html" class="tsd-signature-type" data-tsd-kind="Class">SNRootKey</a><span class="tsd-signature-symbol"> | </span><a href="models_app_items_key.snitemskey.html" class="tsd-signature-type" data-tsd-kind="Class">SNItemsKey</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="protocol_payloads_pure_payload.purepayload.html" class="tsd-signature-type" data-tsd-kind="Class">PurePayload</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L509">services/protocol_service.ts:509</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Similar to <code>payloadByEncryptingPayload</code>, but operates on an array of payloads.
									<code>intent</code> can also be a function of the current iteration payload.</p>
								</div>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>payloads: <a href="protocol_payloads_pure_payload.purepayload.html" class="tsd-signature-type" data-tsd-kind="Class">PurePayload</a><span class="tsd-signature-symbol">[]</span></h5>
								</li>
								<li>
									<h5>intent: <a href="../enums/protocol_intents.encryptionintent.html#sync" class="tsd-signature-type" data-tsd-kind="Enumeration member">Sync</a><span class="tsd-signature-symbol"> | </span><a href="../enums/protocol_intents.encryptionintent.html#syncdecrypted" class="tsd-signature-type" data-tsd-kind="Enumeration member">SyncDecrypted</a><span class="tsd-signature-symbol"> | </span><a href="../enums/protocol_intents.encryptionintent.html#localstorageencrypted" class="tsd-signature-type" data-tsd-kind="Enumeration member">LocalStorageEncrypted</a><span class="tsd-signature-symbol"> | </span><a href="../enums/protocol_intents.encryptionintent.html#localstoragedecrypted" class="tsd-signature-type" data-tsd-kind="Enumeration member">LocalStorageDecrypted</a><span class="tsd-signature-symbol"> | </span><a href="../enums/protocol_intents.encryptionintent.html#localstoragepreferencrypted" class="tsd-signature-type" data-tsd-kind="Enumeration member">LocalStoragePreferEncrypted</a><span class="tsd-signature-symbol"> | </span><a href="../enums/protocol_intents.encryptionintent.html#fileencrypted" class="tsd-signature-type" data-tsd-kind="Enumeration member">FileEncrypted</a><span class="tsd-signature-symbol"> | </span><a href="../enums/protocol_intents.encryptionintent.html#filedecrypted" class="tsd-signature-type" data-tsd-kind="Enumeration member">FileDecrypted</a><span class="tsd-signature-symbol"> | </span><a href="../enums/protocol_intents.encryptionintent.html#filepreferencrypted" class="tsd-signature-type" data-tsd-kind="Enumeration member">FilePreferEncrypted</a><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span>payload<span class="tsd-signature-symbol">: </span><a href="protocol_payloads_pure_payload.purepayload.html" class="tsd-signature-type" data-tsd-kind="Class">PurePayload</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><a href="../enums/protocol_intents.encryptionintent.html" class="tsd-signature-type" data-tsd-kind="Enumeration">EncryptionIntent</a><span class="tsd-signature-symbol">)</span></h5>
								</li>
								<li>
									<h5><span class="tsd-flag ts-flagOptional">Optional</span> key: <a href="protocol_root_key.snrootkey.html" class="tsd-signature-type" data-tsd-kind="Class">SNRootKey</a><span class="tsd-signature-symbol"> | </span><a href="models_app_items_key.snitemskey.html" class="tsd-signature-type" data-tsd-kind="Class">SNItemsKey</a></h5>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="protocol_payloads_pure_payload.purepayload.html" class="tsd-signature-type" data-tsd-kind="Class">PurePayload</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class">
					<a name="platformsupportskeyderivation" class="tsd-anchor"></a>
					<h3>platform<wbr>Supports<wbr>Key<wbr>Derivation</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
						<li class="tsd-signature tsd-kind-icon">platform<wbr>Supports<wbr>Key<wbr>Derivation<span class="tsd-signature-symbol">(</span>keyParams<span class="tsd-signature-symbol">: </span><a href="protocol_key_params.snrootkeyparams.html" class="tsd-signature-type" data-tsd-kind="Class">SNRootKeyParams</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L276">services/protocol_service.ts:276</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Determines whether the current environment is capable of supporting
									key derivation.</p>
								</div>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>keyParams: <a href="protocol_key_params.snrootkeyparams.html" class="tsd-signature-type" data-tsd-kind="Class">SNRootKeyParams</a></h5>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class">
					<a name="reencryptitemskeys" class="tsd-anchor"></a>
					<h3>reencrypt<wbr>Items<wbr>Keys</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
						<li class="tsd-signature tsd-kind-icon">reencrypt<wbr>Items<wbr>Keys<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L1384">services/protocol_service.ts:1384</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>When the root key changes (non-null only), we must re-encrypt all items
									keys with this new root key (by simply re-syncing).</p>
								</div>
							</div>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class">
					<a name="removerootkeywrapper" class="tsd-anchor"></a>
					<h3>remove<wbr>Root<wbr>Key<wbr>Wrapper</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
						<li class="tsd-signature tsd-kind-icon">remove<wbr>Root<wbr>Key<wbr>Wrapper<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L1049">services/protocol_service.ts:1049</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Removes root key wrapper from local storage and stores root key bare in secure keychain.</p>
								</div>
							</div>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class">
					<a name="repersistallitems" class="tsd-anchor"></a>
					<h3>repersist<wbr>All<wbr>Items</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
						<li class="tsd-signature tsd-kind-icon">repersist<wbr>All<wbr>Items<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L1326">services/protocol_service.ts:1326</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>If encryption status changes (esp. on mobile, where local storage encryption
										can be disabled), consumers may call this function to repersist all items to
									disk using latest encryption status.</p>
								</div>
								<dl class="tsd-comment-tags">
									<dt>access</dt>
									<dd><p>public</p>
									</dd>
								</dl>
							</div>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class">
					<a name="rootkeyneedsunwrapping" class="tsd-anchor"></a>
					<h3>root<wbr>Key<wbr>Needs<wbr>Unwrapping</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
						<li class="tsd-signature tsd-kind-icon">root<wbr>Key<wbr>Needs<wbr>Unwrapping<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L849">services/protocol_service.ts:849</a></li>
								</ul>
							</aside>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></h4>
							<p>True if the root key has not yet been unwrapped (passcode locked).</p>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-private">
					<a name="saverootkeytokeychain" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagPrivate">Private</span> save<wbr>Root<wbr>Key<wbr>ToKeychain</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-private">
						<li class="tsd-signature tsd-kind-icon">save<wbr>Root<wbr>Key<wbr>ToKeychain<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L814">services/protocol_service.ts:814</a></li>
								</ul>
							</aside>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class">
					<a name="setnewrootkeywrapper" class="tsd-anchor"></a>
					<h3>set<wbr>New<wbr>Root<wbr>Key<wbr>Wrapper</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
						<li class="tsd-signature tsd-kind-icon">set<wbr>New<wbr>Root<wbr>Key<wbr>Wrapper<span class="tsd-signature-symbol">(</span>wrappingKey<span class="tsd-signature-symbol">: </span><a href="protocol_root_key.snrootkey.html" class="tsd-signature-type" data-tsd-kind="Class">SNRootKey</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L991">services/protocol_service.ts:991</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Encrypts rootKey and saves it in storage instead of keychain, and then
										clears keychain. This is because we don&#39;t want to store large encrypted
										payloads in the keychain. If the root key is not wrapped, it is stored
									in plain form in the user&#39;s secure keychain.</p>
								</div>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>wrappingKey: <a href="protocol_root_key.snrootkey.html" class="tsd-signature-type" data-tsd-kind="Class">SNRootKey</a></h5>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class">
					<a name="setrootkey" class="tsd-anchor"></a>
					<h3>set<wbr>Root<wbr>Key</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
						<li class="tsd-signature tsd-kind-icon">set<wbr>Root<wbr>Key<span class="tsd-signature-symbol">(</span>key<span class="tsd-signature-symbol">: </span><a href="protocol_root_key.snrootkey.html" class="tsd-signature-type" data-tsd-kind="Class">SNRootKey</a>, wrappingKey<span class="tsd-signature-symbol">?: </span><a href="protocol_root_key.snrootkey.html" class="tsd-signature-type" data-tsd-kind="Class">SNRootKey</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L1083">services/protocol_service.ts:1083</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>The root key is distinct from regular keys and are only saved locally in the keychain,
									in non-item form. Applications set root key on sign in, register, or password change.</p>
								</div>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>key: <a href="protocol_root_key.snrootkey.html" class="tsd-signature-type" data-tsd-kind="Class">SNRootKey</a></h5>
									<div class="tsd-comment tsd-typography">
										<p>A SNRootKey object.</p>
									</div>
								</li>
								<li>
									<h5><span class="tsd-flag ts-flagOptional">Optional</span> wrappingKey: <a href="protocol_root_key.snrootkey.html" class="tsd-signature-type" data-tsd-kind="Class">SNRootKey</a></h5>
									<div class="tsd-comment tsd-typography">
										<p>If a passcode is configured, the wrapping key
										must be supplied, so that the new root key can be wrapped with the wrapping key.</p>
									</div>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class">
					<a name="supportedversions" class="tsd-anchor"></a>
					<h3>supported<wbr>Versions</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
						<li class="tsd-signature tsd-kind-icon">supported<wbr>Versions<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../enums/protocol_versions.protocolversion.html" class="tsd-signature-type" data-tsd-kind="Enumeration">ProtocolVersion</a><span class="tsd-signature-symbol">[]</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L294">services/protocol_service.ts:294</a></li>
								</ul>
							</aside>
							<h4 class="tsd-returns-title">Returns <a href="../enums/protocol_versions.protocolversion.html" class="tsd-signature-type" data-tsd-kind="Enumeration">ProtocolVersion</a><span class="tsd-signature-symbol">[]</span></h4>
							<p>The versions that this library supports.</p>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class">
					<a name="unwraprootkey" class="tsd-anchor"></a>
					<h3>unwrap<wbr>Root<wbr>Key</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
						<li class="tsd-signature tsd-kind-icon">unwrap<wbr>Root<wbr>Key<span class="tsd-signature-symbol">(</span>wrappingKey<span class="tsd-signature-symbol">: </span><a href="protocol_root_key.snrootkey.html" class="tsd-signature-type" data-tsd-kind="Class">SNRootKey</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L960">services/protocol_service.ts:960</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Unwraps the persisted root key value using the supplied wrappingKey.
										Application interfaces must check to see if the root key requires unwrapping on load.
										If so, they must generate the unwrapping key by getting our saved wrapping key keyParams.
									After unwrapping, the root key is automatically loaded.</p>
								</div>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>wrappingKey: <a href="protocol_root_key.snrootkey.html" class="tsd-signature-type" data-tsd-kind="Class">SNRootKey</a></h5>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class">
					<a name="upgradeavailable" class="tsd-anchor"></a>
					<h3>upgrade<wbr>Available</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
						<li class="tsd-signature tsd-kind-icon">upgrade<wbr>Available<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L244">services/protocol_service.ts:244</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Returns true if there is an upgrade available for the account or passcode</p>
								</div>
							</div>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class">
					<a name="validateaccountpassword" class="tsd-anchor"></a>
					<h3>validate<wbr>Account<wbr>Password</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
						<li class="tsd-signature tsd-kind-icon">validate<wbr>Account<wbr>Password<span class="tsd-signature-symbol">(</span>password<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{ </span>artifacts<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span>rootKey<span class="tsd-signature-symbol">: </span><a href="protocol_root_key.snrootkey.html" class="tsd-signature-type" data-tsd-kind="Class">SNRootKey</a><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">; </span>valid<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">true</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">{ </span>artifacts<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol">; </span>valid<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L1155">services/protocol_service.ts:1155</a></li>
								</ul>
							</aside>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>password: <span class="tsd-signature-type">string</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>The password string to generate a root key from.</p>
									</div>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{ </span>artifacts<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span>rootKey<span class="tsd-signature-symbol">: </span><a href="protocol_root_key.snrootkey.html" class="tsd-signature-type" data-tsd-kind="Class">SNRootKey</a><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">; </span>valid<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">true</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">{ </span>artifacts<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol">; </span>valid<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">&gt;</span></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class">
					<a name="validatepasscode" class="tsd-anchor"></a>
					<h3>validate<wbr>Passcode</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
						<li class="tsd-signature tsd-kind-icon">validate<wbr>Passcode<span class="tsd-signature-symbol">(</span>passcode<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{ </span>artifacts<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span>wrappingKey<span class="tsd-signature-symbol">: </span><a href="protocol_root_key.snrootkey.html" class="tsd-signature-type" data-tsd-kind="Class">SNRootKey</a><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">; </span>valid<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">true</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">{ </span>artifacts<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol">; </span>valid<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L1169">services/protocol_service.ts:1169</a></li>
								</ul>
							</aside>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>passcode: <span class="tsd-signature-type">string</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>The passcode string to generate a root key from.</p>
									</div>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{ </span>artifacts<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span>wrappingKey<span class="tsd-signature-symbol">: </span><a href="protocol_root_key.snrootkey.html" class="tsd-signature-type" data-tsd-kind="Class">SNRootKey</a><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">; </span>valid<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">true</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">{ </span>artifacts<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol">; </span>valid<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">&gt;</span></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class">
					<a name="validatewrappingkey" class="tsd-anchor"></a>
					<h3>validate<wbr>Wrapping<wbr>Key</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
						<li class="tsd-signature tsd-kind-icon">validate<wbr>Wrapping<wbr>Key<span class="tsd-signature-symbol">(</span>wrappingKey<span class="tsd-signature-symbol">: </span><a href="protocol_root_key.snrootkey.html" class="tsd-signature-type" data-tsd-kind="Class">SNRootKey</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L914">services/protocol_service.ts:914</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>We know a wrappingKey is correct if it correctly decrypts
									wrapped root key.</p>
								</div>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>wrappingKey: <a href="protocol_root_key.snrootkey.html" class="tsd-signature-type" data-tsd-kind="Class">SNRootKey</a></h5>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-private">
					<a name="wrapandpersistrootkey" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagPrivate">Private</span> wrap<wbr>And<wbr>Persist<wbr>Root<wbr>Key</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-private">
						<li class="tsd-signature tsd-kind-icon">wrap<wbr>And<wbr>Persist<wbr>Root<wbr>Key<span class="tsd-signature-symbol">(</span>wrappingKey<span class="tsd-signature-symbol">: </span><a href="protocol_root_key.snrootkey.html" class="tsd-signature-type" data-tsd-kind="Class">SNRootKey</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/standardnotes/snjs/blob/1584960/lib/services/protocol_service.ts#L1027">services/protocol_service.ts:1027</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Wraps the current in-memory root key value using the wrappingKey,
									then persists the wrapped value to disk.</p>
								</div>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>wrappingKey: <a href="protocol_root_key.snrootkey.html" class="tsd-signature-type" data-tsd-kind="Class">SNRootKey</a></h5>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4>
						</li>
					</ul>
				</section>
			</section>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class=" ">
						<a href="../modules.html">Exports</a>
					</li>
					<li class="current tsd-kind-module">
						<a href="../modules/services_protocol_service.html">services/protocol_<wbr>service</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
					<li class=" tsd-kind-enum tsd-parent-kind-module">
						<a href="../enums/services_protocol_service.keymode.html" class="tsd-kind-icon">Key<wbr>Mode</a>
					</li>
				</ul>
				<ul class="current">
					<li class="current tsd-kind-class tsd-parent-kind-module">
						<a href="services_protocol_service.snprotocolservice.html" class="tsd-kind-icon">SNProtocol<wbr>Service</a>
						<ul>
							<li class=" tsd-kind-constructor tsd-parent-kind-class tsd-is-inherited">
								<a href="services_protocol_service.snprotocolservice.html#constructor" class="tsd-kind-icon">constructor</a>
							</li>
							<li class=" tsd-kind-property tsd-parent-kind-class">
								<a href="services_protocol_service.snprotocolservice.html#crypto" class="tsd-kind-icon">crypto</a>
							</li>
							<li class=" tsd-kind-property tsd-parent-kind-class tsd-is-inherited">
								<a href="services_protocol_service.snprotocolservice.html#deviceinterface" class="tsd-kind-icon">device<wbr>Interface</a>
							</li>
							<li class=" tsd-kind-property tsd-parent-kind-class tsd-is-private">
								<a href="services_protocol_service.snprotocolservice.html#keymode" class="tsd-kind-icon">key<wbr>Mode</a>
							</li>
							<li class=" tsd-kind-property tsd-parent-kind-class tsd-is-private">
								<a href="services_protocol_service.snprotocolservice.html#keyobservers" class="tsd-kind-icon">key<wbr>Observers</a>
							</li>
							<li class=" tsd-kind-property tsd-parent-kind-class tsd-is-inherited">
								<a href="services_protocol_service.snprotocolservice.html#loggingenabled" class="tsd-kind-icon">logging<wbr>Enabled</a>
							</li>
							<li class=" tsd-kind-property tsd-parent-kind-class tsd-is-private">
								<a href="services_protocol_service.snprotocolservice.html#operators" class="tsd-kind-icon">operators</a>
							</li>
							<li class=" tsd-kind-property tsd-parent-kind-class tsd-is-private">
								<a href="services_protocol_service.snprotocolservice.html#removeitemsobserver" class="tsd-kind-icon">remove<wbr>Items<wbr>Observer</a>
							</li>
							<li class=" tsd-kind-property tsd-parent-kind-class tsd-is-private">
								<a href="services_protocol_service.snprotocolservice.html#rootkey" class="tsd-kind-icon">root<wbr>Key</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class">
								<a href="services_protocol_service.snprotocolservice.html#accountupgradeavailable" class="tsd-kind-icon">account<wbr>Upgrade<wbr>Available</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class tsd-is-inherited">
								<a href="services_protocol_service.snprotocolservice.html#addeventobserver" class="tsd-kind-icon">add<wbr>Event<wbr>Observer</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class tsd-is-inherited">
								<a href="services_protocol_service.snprotocolservice.html#blockdeinit" class="tsd-kind-icon">block<wbr>Deinit</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class">
								<a href="services_protocol_service.snprotocolservice.html#clearlocalkeystate" class="tsd-kind-icon">clear<wbr>Local<wbr>Key<wbr>State</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class">
								<a href="services_protocol_service.snprotocolservice.html#computerootkey" class="tsd-kind-icon">compute<wbr>Root<wbr>Key</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class">
								<a href="services_protocol_service.snprotocolservice.html#computewrappingkey" class="tsd-kind-icon">compute<wbr>Wrapping<wbr>Key</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class">
								<a href="services_protocol_service.snprotocolservice.html#costminimumforversion" class="tsd-kind-icon">cost<wbr>Minimum<wbr>For<wbr>Version</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class">
								<a href="services_protocol_service.snprotocolservice.html#createbackupfile" class="tsd-kind-icon">create<wbr>Backup<wbr>File</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class">
								<a href="services_protocol_service.snprotocolservice.html#createkeyparams" class="tsd-kind-icon">create<wbr>Key<wbr>Params</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class">
								<a href="services_protocol_service.snprotocolservice.html#createnewdefaultitemskey" class="tsd-kind-icon">create<wbr>New<wbr>Default<wbr>Items<wbr>Key</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class">
								<a href="services_protocol_service.snprotocolservice.html#createnewitemskeywithrollback" class="tsd-kind-icon">create<wbr>New<wbr>Items<wbr>Key<wbr>With<wbr>Rollback</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class tsd-is-private">
								<a href="services_protocol_service.snprotocolservice.html#createoperatorforlatestversion" class="tsd-kind-icon">create<wbr>Operator<wbr>For<wbr>Latest<wbr>Version</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class tsd-is-private">
								<a href="services_protocol_service.snprotocolservice.html#createoperatorforversion" class="tsd-kind-icon">create<wbr>Operator<wbr>For<wbr>Version</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class">
								<a href="services_protocol_service.snprotocolservice.html#createrootkey" class="tsd-kind-icon">create<wbr>Root<wbr>Key</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class">
								<a href="services_protocol_service.snprotocolservice.html#decrypterroreditems" class="tsd-kind-icon">decrypt<wbr>Errored<wbr>Items</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class">
								<a href="services_protocol_service.snprotocolservice.html#defaultitemskeyforitemversion" class="tsd-kind-icon">default<wbr>Items<wbr>Key<wbr>For<wbr>Item<wbr>Version</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class tsd-is-private">
								<a href="services_protocol_service.snprotocolservice.html#defaultoperator" class="tsd-kind-icon">default<wbr>Operator</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class tsd-is-overwrite">
								<a href="services_protocol_service.snprotocolservice.html#deinit" class="tsd-kind-icon">deinit</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter tsd-is-inherited tsd-is-protected">
								<a href="services_protocol_service.snprotocolservice.html#executecriticalfunction" class="tsd-kind-icon">execute<wbr>Critical<wbr>Function</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class">
								<a href="services_protocol_service.snprotocolservice.html#getaccountkeyparams" class="tsd-kind-icon">get<wbr>Account<wbr>Key<wbr>Params</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class">
								<a href="services_protocol_service.snprotocolservice.html#getdefaultitemskey" class="tsd-kind-icon">get<wbr>Default<wbr>Items<wbr>Key</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class">
								<a href="services_protocol_service.snprotocolservice.html#getencryptiondisplayname" class="tsd-kind-icon">get<wbr>Encryption<wbr>Display<wbr>Name</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class tsd-is-private">
								<a href="services_protocol_service.snprotocolservice.html#getencryptionsourceversion" class="tsd-kind-icon">get<wbr>Encryption<wbr>Source<wbr>Version</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class">
								<a href="services_protocol_service.snprotocolservice.html#getkeyembeddedkeyparams" class="tsd-kind-icon">get<wbr>Key<wbr>Embedded<wbr>Key<wbr>Params</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class">
								<a href="services_protocol_service.snprotocolservice.html#getlatestversion" class="tsd-kind-icon">get<wbr>Latest<wbr>Version</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class">
								<a href="services_protocol_service.snprotocolservice.html#getrootkey" class="tsd-kind-icon">get<wbr>Root<wbr>Key</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class tsd-is-private">
								<a href="services_protocol_service.snprotocolservice.html#getrootkeyfromkeychain" class="tsd-kind-icon">get<wbr>Root<wbr>Key<wbr>From<wbr>Keychain</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class">
								<a href="services_protocol_service.snprotocolservice.html#getrootkeyparams" class="tsd-kind-icon">get<wbr>Root<wbr>Key<wbr>Params</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class">
								<a href="services_protocol_service.snprotocolservice.html#getrootkeywrapperkeyparams" class="tsd-kind-icon">get<wbr>Root<wbr>Key<wbr>Wrapper<wbr>Key<wbr>Params</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class">
								<a href="services_protocol_service.snprotocolservice.html#getuserversion" class="tsd-kind-icon">get<wbr>User<wbr>Version</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class tsd-is-private">
								<a href="services_protocol_service.snprotocolservice.html#getwrappedrootkey" class="tsd-kind-icon">get<wbr>Wrapped<wbr>Root<wbr>Key</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class tsd-is-inherited">
								<a href="services_protocol_service.snprotocolservice.html#handleapplicationstage" class="tsd-kind-icon">handle<wbr>Application<wbr>Stage</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class tsd-is-private">
								<a href="services_protocol_service.snprotocolservice.html#handledownloadfirstsynccompletion" class="tsd-kind-icon">handle<wbr>Download<wbr>First<wbr>Sync<wbr>Completion</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class tsd-is-private">
								<a href="services_protocol_service.snprotocolservice.html#handlefullsynccompletion" class="tsd-kind-icon">handle<wbr>Full<wbr>Sync<wbr>Completion</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class">
								<a href="services_protocol_service.snprotocolservice.html#hasaccount" class="tsd-kind-icon">has<wbr>Account</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class">
								<a href="services_protocol_service.snprotocolservice.html#haspasscode" class="tsd-kind-icon">has<wbr>Passcode</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class">
								<a href="services_protocol_service.snprotocolservice.html#hasrootkeywrapper" class="tsd-kind-icon">has<wbr>Root<wbr>Key<wbr>Wrapper</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class">
								<a href="services_protocol_service.snprotocolservice.html#initialize" class="tsd-kind-icon">initialize</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class">
								<a href="services_protocol_service.snprotocolservice.html#isprotocolversionoutdated" class="tsd-kind-icon">is<wbr>Protocol<wbr>Version<wbr>Outdated</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class">
								<a href="services_protocol_service.snprotocolservice.html#isversionnewerthanlibraryversion" class="tsd-kind-icon">is<wbr>Version<wbr>Newer<wbr>Than<wbr>Library<wbr>Version</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class">
								<a href="services_protocol_service.snprotocolservice.html#itemskeyforpayload" class="tsd-kind-icon">items<wbr>Key<wbr>For<wbr>Payload</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class tsd-is-private">
								<a href="services_protocol_service.snprotocolservice.html#keytousefordecryptionofpayload" class="tsd-kind-icon">key<wbr>ToUse<wbr>For<wbr>Decryption<wbr>OfPayload</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class tsd-is-private">
								<a href="services_protocol_service.snprotocolservice.html#keytouseforencryptionofpayload" class="tsd-kind-icon">key<wbr>ToUse<wbr>For<wbr>Encryption<wbr>OfPayload</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class tsd-is-private">
								<a href="services_protocol_service.snprotocolservice.html#latestitemskeys" class="tsd-kind-icon">latest<wbr>Items<wbr>Keys</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class tsd-is-inherited">
								<a href="services_protocol_service.snprotocolservice.html#log" class="tsd-kind-icon">log</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class">
								<a href="services_protocol_service.snprotocolservice.html#needsnewrootkeybaseditemskey" class="tsd-kind-icon">needs<wbr>New<wbr>Root<wbr>Key<wbr>Based<wbr>Items<wbr>Key</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class tsd-is-inherited tsd-is-protected">
								<a href="services_protocol_service.snprotocolservice.html#notifyevent" class="tsd-kind-icon">notify<wbr>Event</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class tsd-is-private">
								<a href="services_protocol_service.snprotocolservice.html#notifyobserversofkeychange" class="tsd-kind-icon">notify<wbr>Observers<wbr>OfKey<wbr>Change</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class">
								<a href="services_protocol_service.snprotocolservice.html#onkeystatuschange" class="tsd-kind-icon">on<wbr>Key<wbr>Status<wbr>Change</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class">
								<a href="services_protocol_service.snprotocolservice.html#onsyncevent" class="tsd-kind-icon">on<wbr>Sync<wbr>Event</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class tsd-is-private">
								<a href="services_protocol_service.snprotocolservice.html#operatorforversion" class="tsd-kind-icon">operator<wbr>For<wbr>Version</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class">
								<a href="services_protocol_service.snprotocolservice.html#passcodeupgradeavailable" class="tsd-kind-icon">passcode<wbr>Upgrade<wbr>Available</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class">
								<a href="services_protocol_service.snprotocolservice.html#payloadbydecryptingpayload" class="tsd-kind-icon">payload<wbr>ByDecrypting<wbr>Payload</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class">
								<a href="services_protocol_service.snprotocolservice.html#payloadbyencryptingpayload" class="tsd-kind-icon">payload<wbr>ByEncrypting<wbr>Payload</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class tsd-is-private">
								<a href="services_protocol_service.snprotocolservice.html#payloadcontentformatforintent" class="tsd-kind-icon">payload<wbr>Content<wbr>Format<wbr>For<wbr>Intent</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class">
								<a href="services_protocol_service.snprotocolservice.html#payloadsbydecryptingbackupfile" class="tsd-kind-icon">payloads<wbr>ByDecrypting<wbr>Backup<wbr>File</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class">
								<a href="services_protocol_service.snprotocolservice.html#payloadsbydecryptingpayloads" class="tsd-kind-icon">payloads<wbr>ByDecrypting<wbr>Payloads</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class">
								<a href="services_protocol_service.snprotocolservice.html#payloadsbyencryptingpayloads" class="tsd-kind-icon">payloads<wbr>ByEncrypting<wbr>Payloads</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class">
								<a href="services_protocol_service.snprotocolservice.html#platformsupportskeyderivation" class="tsd-kind-icon">platform<wbr>Supports<wbr>Key<wbr>Derivation</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class">
								<a href="services_protocol_service.snprotocolservice.html#reencryptitemskeys" class="tsd-kind-icon">reencrypt<wbr>Items<wbr>Keys</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class">
								<a href="services_protocol_service.snprotocolservice.html#removerootkeywrapper" class="tsd-kind-icon">remove<wbr>Root<wbr>Key<wbr>Wrapper</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class">
								<a href="services_protocol_service.snprotocolservice.html#repersistallitems" class="tsd-kind-icon">repersist<wbr>All<wbr>Items</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class">
								<a href="services_protocol_service.snprotocolservice.html#rootkeyneedsunwrapping" class="tsd-kind-icon">root<wbr>Key<wbr>Needs<wbr>Unwrapping</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class tsd-is-private">
								<a href="services_protocol_service.snprotocolservice.html#saverootkeytokeychain" class="tsd-kind-icon">save<wbr>Root<wbr>Key<wbr>ToKeychain</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class">
								<a href="services_protocol_service.snprotocolservice.html#setnewrootkeywrapper" class="tsd-kind-icon">set<wbr>New<wbr>Root<wbr>Key<wbr>Wrapper</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class">
								<a href="services_protocol_service.snprotocolservice.html#setrootkey" class="tsd-kind-icon">set<wbr>Root<wbr>Key</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class">
								<a href="services_protocol_service.snprotocolservice.html#supportedversions" class="tsd-kind-icon">supported<wbr>Versions</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class">
								<a href="services_protocol_service.snprotocolservice.html#unwraprootkey" class="tsd-kind-icon">unwrap<wbr>Root<wbr>Key</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class">
								<a href="services_protocol_service.snprotocolservice.html#upgradeavailable" class="tsd-kind-icon">upgrade<wbr>Available</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class">
								<a href="services_protocol_service.snprotocolservice.html#validateaccountpassword" class="tsd-kind-icon">validate<wbr>Account<wbr>Password</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class">
								<a href="services_protocol_service.snprotocolservice.html#validatepasscode" class="tsd-kind-icon">validate<wbr>Passcode</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class">
								<a href="services_protocol_service.snprotocolservice.html#validatewrappingkey" class="tsd-kind-icon">validate<wbr>Wrapping<wbr>Key</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class tsd-is-private">
								<a href="services_protocol_service.snprotocolservice.html#wrapandpersistrootkey" class="tsd-kind-icon">wrap<wbr>And<wbr>Persist<wbr>Root<wbr>Key</a>
							</li>
						</ul>
					</li>
				</ul>
				<ul class="after-current">
					<li class=" tsd-kind-type-alias tsd-parent-kind-module">
						<a href="../modules/services_protocol_service.html#backupfile" class="tsd-kind-icon">Backup<wbr>File</a>
					</li>
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li>
				<li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li>
				<li class="tsd-kind-function tsd-has-type-parameter"><span class="tsd-kind-icon">Function with type parameter</span></li>
				<li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li>
				<li class="tsd-kind-class tsd-has-type-parameter"><span class="tsd-kind-icon">Class with type parameter</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-constructor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited method</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private method</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="../assets/js/main.js"></script>
</body>
</html>